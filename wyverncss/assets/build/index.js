(()=>{"use strict";var e={n:s=>{var t=s&&s.__esModule?()=>s.default:()=>s;return e.d(t,{a:t}),t},d:(s,t)=>{for(var n in t)e.o(t,n)&&!e.o(s,n)&&Object.defineProperty(s,n,{enumerable:!0,get:t[n]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.plugins,t=window.wp.editor,n=window.wp.i18n,r=window.wp.primitives,a=window.ReactJSXRuntime,i=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})}),l=window.wp.element,o=window.wp.components,c=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})}),d=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})}),u=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})}),g="XlPbjl3DnSlXx_gsZrQQ",m="F_PM7BN9IRZxb50EGXN3",y="y_ZmaJMG1KEHoHI3TNxT",h="FRYhUO5njjOWd3dIECoI",p="walVKYo8krR8ikrHWVq8",v="O2ZFhYjeu9zLMNobBOC8";function w(){return(0,a.jsx)("div",{className:"_iRKRbPqFTGlhSoe9egP",children:(0,a.jsxs)("div",{className:"Vi9wlcLjfozMjskIVgKw",children:[(0,a.jsx)(o.Icon,{className:"bgordpVXjbq0D4E41kce",icon:i,size:32}),(0,a.jsxs)("div",{className:"xbI5B4ZgT_uWEcMb6wnT",children:[(0,a.jsx)("h2",{className:"NijilFOqI37hwWOSheMg",children:(0,n.__)("WyvernCSS","wyvern-ai-styling")}),(0,a.jsx)("p",{className:"qVdf_O1tAUox5i_j3zgx",children:(0,n.__)("AI-Powered Design Assistant","wyvern-ai-styling")})]})]})})}window.React;const x=window.ReactDOM,_={container:"PW_JrwlYN0jQkqgNFXRD",header:"AgvleqntKuFbvkxgnVB3",title:"XHT7oMELO7lts4K3Lw4l",instructions:"re8yvCoZ__uxl4DuNs9y",elementInfo:"PyOgjSRy09uMPCMD5wzT","wyvernpress-slide-up":"km6jjeHI1_YvTEeKQpVl",elementInfoHeader:"vuWDPbEiNz2yH2kY3ODZ",elementInfoActions:"lDWQ7m1G6yw5I2X3_Boc",elementTag:"JHiW53LavN97EIcOs5ug",elementDetails:"dqxkmMvCJxiidPpLE9Sj",detailRow:"NCorEP_V9U_uLkJEgC5d",detailLabel:"Z8975sy0gmtRqI4jWMW5",detailValue:"Eq4rstEo6hXlOanq9eRk",classList:"Eb1HrtkTFu0QIxZCWpXf",classItem:"xbAcJPX7a2YBZ62ZoT_l",actions:"NvyAZ3FciIqAPolw3Xf_",clearButton:"utsiDE2jjIgVTPlfb_b8",highlight:"xBPcqwv_1EuWHzt0Gfur",highlightHover:"JEmpwDBQCK8Sky7l3dgW",highlightSelected:"g3jw782zgQS1AbM5Hib4",highlightLabel:"ZMNbsUpm20MyMTNWgIB6"};function f({element:e,type:s,label:t}){const n="node"in e?e.node:e,r=n.getBoundingClientRect(),i=n.ownerDocument,l=i!==document;let o=r.top,c=r.left;if(l&&i.defaultView){const e=Array.from(document.querySelectorAll("iframe")).find(e=>e.contentDocument===i);if(e){const s=e.getBoundingClientRect();o+=s.top,c+=s.left}}const d={top:`${o+(window.pageYOffset||document.documentElement.scrollTop)}px`,left:`${c+(window.pageXOffset||document.documentElement.scrollLeft)}px`,width:`${r.width}px`,height:`${r.height}px`},u=[_.highlight,"hover"===s?_.highlightHover:_.highlightSelected].join(" "),g="hover"===s?n.tagName.toLowerCase():`Selected: ${n.tagName.toLowerCase()}`;return(0,x.createPortal)((0,a.jsx)("div",{className:u,style:d,role:"presentation","aria-hidden":"true",children:(0,a.jsx)("span",{className:_.highlightLabel,children:t||g})}),document.body)}const j=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),b=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),N=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})});function C({element:e,onClear:s}){const[t,r]=(0,l.useState)(!1);return(0,a.jsxs)("div",{className:_.elementInfo,children:[(0,a.jsxs)("div",{className:_.elementInfoHeader,children:[(0,a.jsxs)("span",{className:_.elementTag,children:[(0,a.jsx)("span",{"aria-hidden":"true",children:c}),e.tag]}),(0,a.jsxs)("div",{className:_.elementInfoActions,children:[(0,a.jsx)(o.Button,{icon:t?j:b,label:t?(0,n.__)("Collapse details","wyvern-ai-styling"):(0,n.__)("Expand details","wyvern-ai-styling"),onClick:()=>r(!t),isSmall:!0,variant:"tertiary"}),(0,a.jsx)(o.Button,{icon:N,label:(0,n.__)("Clear selection","wyvern-ai-styling"),onClick:s,isSmall:!0,variant:"tertiary"})]})]}),t&&(0,a.jsxs)("div",{className:_.elementDetails,children:[e.id&&(0,a.jsxs)("div",{className:_.detailRow,children:[(0,a.jsx)("span",{className:_.detailLabel,children:(0,n.__)("ID:","wyvern-ai-styling")}),(0,a.jsxs)("span",{className:_.detailValue,children:["#",e.id]})]}),e.classes.length>0&&(0,a.jsxs)("div",{className:_.detailRow,children:[(0,a.jsx)("span",{className:_.detailLabel,children:(0,n.__)("Classes:","wyvern-ai-styling")}),(0,a.jsx)("div",{className:_.classList,children:e.classes.map(e=>(0,a.jsxs)("span",{className:_.classItem,children:[".",e]},e))})]}),(0,a.jsxs)("div",{className:_.detailRow,children:[(0,a.jsx)("span",{className:_.detailLabel,children:(0,n.__)("Selector:","wyvern-ai-styling")}),(0,a.jsx)("span",{className:_.detailValue,children:e.selector})]}),e.textContent&&(0,a.jsxs)("div",{className:_.detailRow,children:[(0,a.jsx)("span",{className:_.detailLabel,children:(0,n.__)("Text:","wyvern-ai-styling")}),(0,a.jsxs)("span",{className:_.detailValue,children:[e.textContent.substring(0,100),e.textContent.length>100?"...":""]})]})]})]})}function k(e){if(e.id)return`#${e.id}`;if(e.classList.length>0){const s=Array.from(e.classList).filter(e=>!e.startsWith("wyverncss-")).join(".");if(s)return`${e.tagName.toLowerCase()}.${s}`}const s=e.parentElement;if(s){const t=Array.from(s.children).indexOf(e)+1;return`${k(s)} > ${e.tagName.toLowerCase()}:nth-child(${t})`}return e.tagName.toLowerCase()}function S({onElementSelect:e,enabled:s,onClearSelection:t}){const{selectedElement:r,hoveredElement:i,clearSelection:o}=function(e){const{enabled:s,showHoverHighlights:t=!0,onClearSelection:n}=e,[r,a]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),c=(0,l.useCallback)(()=>{a(null),n?.()},[n]),d=(0,l.useCallback)(e=>{a(e?function(e){const s=window.getComputedStyle(e),t=e.getBoundingClientRect();return{node:e,tag:e.tagName.toLowerCase(),classes:Array.from(e.classList),id:e.id||void 0,computedStyles:s,textContent:e.textContent?.trim()||"",selector:k(e),boundingRect:t}}(e):null)},[]);return(0,l.useEffect)(()=>{if(!s)return void o(null);const e=(()=>{const e=document.querySelector('iframe[name="editor-canvas"]');return e?.contentDocument?e.contentDocument:document.querySelector(".editor-visual-editor__content-area, .block-editor-writing-flow, .edit-post-visual-editor")||null})();if(!e)return;const n=s=>"#document"===e.nodeName||(e instanceof HTMLElement?e.contains(s):!!s.closest(".editor-visual-editor__content-area, .block-editor-writing-flow, .edit-post-visual-editor")),a=e=>{const s=e.target;n(s)&&(s.closest(".wyverncss-sidebar")||s.closest(".wyverncss-container")||s.closest(".wyverncss-controls")||s.closest(".wyverncss-highlight")||s.classList.contains("wyverncss-highlight")||s.closest(".block-editor-block-list__block-popover")||s.closest(".block-editor-block-toolbar")||s.closest(".components-popover")||s.closest(".block-list-appender")||(e.preventDefault(),e.stopPropagation(),d(s)))},l=e=>{if(!t)return;const s=e.target;n(s)&&(s.closest(".wyverncss-sidebar")||s.closest(".wyverncss-container")||s.closest(".wyverncss-controls")||s.closest(".components-popover")||s.closest(".interface-interface-skeleton__sidebar")||o(s))},u=()=>{t&&o(null)},g=e=>{"Escape"===e.key&&r&&(e.preventDefault(),c()),"Enter"===e.key&&i&&!r&&(e.preventDefault(),d(i))},m="#document"===e.nodeName?e:document;return m.addEventListener("click",a,!0),m.addEventListener("mouseover",l),m.addEventListener("mouseout",u),m.addEventListener("keydown",g),()=>{m.removeEventListener("click",a,!0),m.removeEventListener("mouseover",l),m.removeEventListener("mouseout",u),m.removeEventListener("keydown",g)}},[s,t,r,i,c,d]),{selectedElement:r,hoveredElement:i,clearSelection:c,setSelectedElement:d}}({enabled:s,showHoverHighlights:!0,onClearSelection:t});return(0,l.useEffect)(()=>{r&&e(r)},[r,e]),(0,a.jsxs)("div",{className:_.container,children:[(0,a.jsx)("div",{className:_.header,children:(0,a.jsx)("h3",{className:_.title,children:(0,n.__)("Select Element","wyvern-ai-styling")})}),s&&(0,a.jsx)("div",{className:_.instructions,role:"status","aria-live":"polite",children:r?(0,n.__)("Element selected. Enter a design prompt below.","wyvern-ai-styling"):(0,a.jsxs)(a.Fragment,{children:[(0,n.__)("Click any element on the page to select it.","wyvern-ai-styling"),(0,a.jsx)("br",{}),(0,a.jsx)("kbd",{children:"Esc"})," ",(0,n.__)("to clear","wyvern-ai-styling")," • ",(0,a.jsx)("kbd",{children:"Enter"})," ",(0,n.__)("to confirm","wyvern-ai-styling")]})}),!s&&(0,a.jsx)("div",{className:_.instructions,role:"status",children:(0,n.__)("Enable element selection to choose an element to style.","wyvern-ai-styling")}),r&&(0,a.jsx)(C,{element:r,onClear:()=>{o(),t?.()}}),s&&i&&!r&&(0,a.jsx)(f,{element:i,type:"hover"}),s&&r&&(0,a.jsx)(f,{element:r,type:"selected"})]})}const E="qonQhVKH8YIafiRgNbbw",L="DJtQJhSh9259Fu9i2ZIg",B=[{text:"Make it blue with rounded corners",category:"color",description:"Apply blue color and border radius"},{text:"Add drop shadow",category:"effects",description:"Add box shadow effect"},{text:"Increase font size to 18px",category:"typography",description:"Make text larger"},{text:"Center align with padding",category:"layout",description:"Center content with spacing"},{text:"Add 20px margin on all sides",category:"spacing",description:"Add consistent spacing"},{text:"Make background gradient from blue to purple",category:"color",description:"Apply gradient background"},{text:"Bold text with uppercase",category:"typography",description:"Emphasize text"},{text:"Add hover effect with scale",category:"effects",description:"Interactive hover state"}];function I({onSuggestionClick:e,disabled:s=!1}){const t=(0,l.useMemo)(()=>function(e){const s=[...e];for(let e=s.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}return s.slice(0,3)}(B),[]);return(0,a.jsxs)("div",{className:"p9k8TvJElUPtvctjrEIY",children:[(0,a.jsx)("h4",{className:"QMKJOiTRq8HQ7ZjkvIbB",children:(0,n.__)("Quick Suggestions","wyvern-ai-styling")}),(0,a.jsx)("ul",{className:"z6mXdQq9c0N7B2QFbJSA",children:t.map(t=>(0,a.jsx)("li",{className:"Cqw8nb9Eg5eygWhslGeC",children:(0,a.jsx)(o.Button,{className:"J8AVzo6ItlJFmn2U3BIV",onClick:()=>e(t.text),disabled:s,variant:"secondary",size:"small",title:t.description,children:t.text})},t.text))})]})}const R="wyverncss_prompt_history";function P(){try{const e=localStorage.getItem(R);if(e)return JSON.parse(e)}catch{}return[]}function q(e){const s=Date.now()-e;if(Math.floor(s/6e4)<1)return(0,n.__)("Just now","wyvern-ai-styling");const t=Math.floor(s/6e4);if(t<60)return`${t}m ago`;const r=Math.floor(s/36e5);return r<24?`${r}h ago`:`${Math.floor(s/864e5)}d ago`}function A({onHistoryClick:e,disabled:s=!1}){const[t,r]=(0,l.useState)([]),[i,c]=(0,l.useState)(3);(0,l.useEffect)(()=>{r(P());const e=e=>{e.key===R&&r(P())};return window.addEventListener("storage",e),()=>window.removeEventListener("storage",e)},[]);const d=t.slice(0,8),u=d.slice(0,i),g=i<d.length;return 0===u.length?(0,a.jsxs)("div",{className:E,children:[(0,a.jsx)("h4",{className:L,children:(0,n.__)("Recent Prompts","wyvern-ai-styling")}),(0,a.jsx)("div",{className:"Tj5IMxkdAhHsO55cu5YZ",children:(0,n.__)("No recent prompts yet","wyvern-ai-styling")})]}):(0,a.jsxs)("div",{className:E,children:[(0,a.jsx)("h4",{className:L,children:(0,n.__)("Recent Prompts","wyvern-ai-styling")}),(0,a.jsx)("ul",{className:"aLyj4anMweql1DHCAYHZ",children:u.map((t,n)=>(0,a.jsx)("li",{className:"lasTaqYnN3db0vUfQNZI",children:(0,a.jsxs)(o.Button,{className:"sGzG83smuBFMt5MIB0Su",onClick:()=>e(t.prompt),disabled:s,variant:"secondary",children:[(0,a.jsx)("span",{className:"tJlQ3qwQq4W9P4TRcCXu",children:t.prompt}),(0,a.jsx)("span",{className:"pScaB2x8iCQwu5J_neyJ",children:q(t.timestamp)})]})},`${t.timestamp}-${n}`))}),g&&(0,a.jsx)("div",{className:"x6wco0nk15WHdLoMssLh",children:(0,a.jsx)(o.Button,{className:"VT0SEwcJ2Yb5xYoZ5Phk",onClick:()=>{c(e=>Math.min(e+5,8))},variant:"tertiary",size:"small",children:(0,n.__)("Show More","wyvern-ai-styling")})})]})}function M({selectedElement:e,onSubmit:s,loadingState:t,error:r,hideSuggestions:i=!1,externalPrompt:c,onExternalPromptConsumed:d,usage:u}){const[g,m]=(0,l.useState)(""),y=(0,l.useRef)(null),h=g.length,p=h>400,v=h>500,w=!e||"loading"===t;(0,l.useEffect)(()=>{y.current&&!w&&y.current.focus()},[w]),(0,l.useEffect)(()=>{c&&(m(c),y.current?.focus(),d?.())},[c,d]);const x=(0,l.useCallback)(async e=>{e?.preventDefault(),!g.trim()||v||w||(function(e){try{const s=P(),t=[{prompt:e,timestamp:Date.now()},...s.filter(s=>s.prompt!==e)].slice(0,20);localStorage.setItem(R,JSON.stringify(t))}catch{}}(g.trim()),await s(g.trim()))},[g,v,w,s]);(0,l.useEffect)(()=>{"success"===t&&m("")},[t]);const _=(0,l.useCallback)(e=>{(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&(e.preventDefault(),x()),"Escape"===e.key&&m("")},[x]),f=(0,l.useCallback)(e=>{m(e),y.current?.focus()},[]);return(0,a.jsxs)("div",{className:"LKiRQ5Lv905r2XfEjdHC",children:[(0,a.jsx)("h3",{className:"EFpN4JgAOhwamjdqkcOY",children:(0,n.__)("Design Prompt","wyvern-ai-styling")}),!e&&(0,a.jsx)(o.Notice,{status:"info",isDismissible:!1,children:(0,n.__)("Select an element first to start designing","wyvern-ai-styling")}),r&&(0,a.jsx)(o.Notice,{status:"error",isDismissible:!1,children:r}),(0,a.jsxs)("form",{className:"pdtLee0J_V2umRkn9rTB",onSubmit:x,children:[(0,a.jsxs)("div",{className:"_Yf9jHhmFOUZx4c3Z75p",children:[(0,a.jsx)("label",{htmlFor:"wyverncss-prompt",className:"wyverncss-sr-only",children:(0,n.__)("Enter design instructions","wyvern-ai-styling")}),(0,a.jsx)("textarea",{ref:y,id:"wyverncss-prompt",className:"HWV7eJrJgn0aBYXZYL_X",value:g,onChange:e=>m(e.target.value),onKeyDown:_,placeholder:(0,n.__)('Describe your design… (e.g., "Make the button blue with rounded corners and a shadow")',"wyvern-ai-styling"),disabled:w,maxLength:500,"aria-describedby":"char-counter shortcut-hint"}),(0,a.jsxs)("div",{className:"fT0KAZ9cVWx2lVxuWbTq",children:[(0,a.jsxs)("span",{id:"char-counter",className:v?"tPwjhC7T9MXQtIPzXn8J":p?"LSt3hh_y9Pcp6Waq0XJw":"","aria-live":"polite",children:[h," / ",500]}),(0,a.jsxs)("span",{id:"shortcut-hint",className:"SajkkFoWvk0v0JKjfaao",children:[(0,a.jsx)("kbd",{children:"Ctrl"}),"+",(0,a.jsx)("kbd",{children:"Enter"})," ",(0,n.__)("to submit","wyvern-ai-styling")]})]}),g.trim()&&u&&-1!==u.requestsLimit&&(0,a.jsxs)("div",{className:"X19RhZ7G2zkVodf7sRxX",children:[(0,a.jsx)("span",{className:"zUJ7cm2M7omyFFHXe3QG",children:"⚡"}),(0,a.jsxs)("span",{className:"XjRSZxjngnMsV3tBPMFH",children:[(0,n.__)("May use 1 AI request","wyvern-ai-styling"),u.requestsRemaining<=10&&(0,a.jsxs)("span",{className:"R0zEqArnPNPbw5pPXIRt",children:[" ","(",u.requestsRemaining," ",(0,n.__)("left","wyvern-ai-styling"),")"]})]})]})]}),"loading"===t&&(0,a.jsx)("div",{role:"status","aria-live":"polite",className:"wyverncss-sr-only",children:(0,n.__)("Generating Styles…","wyvern-ai-styling")}),(0,a.jsx)(o.Button,{className:"tc9eNnYRp1NDlltNwoUt",type:"submit",variant:"primary",disabled:w||!g.trim()||v,isBusy:"loading"===t,children:"loading"===t?(0,n.__)("Generating Styles…","wyvern-ai-styling"):(0,n.__)("Generate Styles","wyvern-ai-styling")})]}),!w&&!i&&(0,a.jsx)(I,{onSuggestionClick:f,disabled:"loading"===t})]})}const T="vrwpug8LoApfk2yrf55i",V="IEZ1JlNAQWrNszKW_WXX",H="FGiqFoMmBK1HuLzI_9xx",D="igJXT1MGlqb9U3Qw0igo",W="Q7D56AlsTg5G8JEVFX2R",U="katqtARmS6RRjZHXUcvH",F="A6ixpTDZq6JogbrJeIrz",$="D7aW7yyNuAvsV0eGsI6N",Z="kGttIbKIR1snsNJPAvDe";function z(e){return Object.entries(e).map(([e,s])=>`${e}: ${s};`).join("\n")}function G(e){const s={};return Object.entries(e).forEach(([e,t])=>{const n=e.replace(/-([a-z])/g,(e,s)=>s.toUpperCase());s[n]=t}),s}function X(e,s,t,r){const i=e?.textContent||(0,n.__)("Sample preview","wyvern-ai-styling"),l=r?`${t} ${r}`:t;switch(e?.tag?.toLowerCase()||"div"){case"button":return(0,a.jsx)("button",{type:"button",className:l,style:s,children:i});case"a":return(0,a.jsx)("a",{href:"#preview",className:l,style:s,onClick:e=>e.preventDefault(),children:i});case"h1":return(0,a.jsx)("h1",{className:l,style:s,children:i});case"h2":return(0,a.jsx)("h2",{className:l,style:s,children:i});case"h3":return(0,a.jsx)("h3",{className:l,style:s,children:i});case"h4":return(0,a.jsx)("h4",{className:l,style:s,children:i});case"h5":return(0,a.jsx)("h5",{className:l,style:s,children:i});case"h6":return(0,a.jsx)("h6",{className:l,style:s,children:i});case"span":return(0,a.jsx)("span",{className:l,style:s,children:i});case"input":return(0,a.jsx)("input",{type:"text",className:l,style:s,value:i,readOnly:!0});case"img":return(0,a.jsx)("div",{className:l,style:{...s,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.__)("[Image]","wyvern-ai-styling")});default:return(0,a.jsx)("div",{className:l,style:s,children:i})}}function J({originalStyles:e,proposedStyles:s,mode:t="side-by-side",originalElementContext:r,proposedElementContext:i,customClassName:c,stylesheet:d}){const[u,g]=(0,l.useState)(!1),m=z(e),y=z(s),h=G(e),p=G(s),v=d?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:d}}):null;if("side-by-side"===t)return(0,a.jsxs)("div",{className:"amVJ1Oro4BKRrXMXwxJM",children:[v,(0,a.jsxs)("div",{className:H,children:[(0,a.jsx)("div",{className:D,children:(0,n.__)("Before","wyvern-ai-styling")}),(0,a.jsx)("div",{className:W,children:X(r,h,U)}),(0,a.jsx)("pre",{className:F,children:(0,a.jsx)("code",{children:m||(0,n.__)("(no styles)","wyvern-ai-styling")})})]}),(0,a.jsxs)("div",{className:H,children:[(0,a.jsx)("div",{className:D,children:(0,n.__)("After","wyvern-ai-styling")}),(0,a.jsx)("div",{className:W,children:X(i,p,U,c)}),(0,a.jsx)("pre",{className:F,children:(0,a.jsxs)("code",{children:[y,d?`\n\n/* Hover/Animation styles */\n${d}`:""]})})]})]});const w=u?h:p,x=u?m:y,_=u?(0,n.__)("Before","wyvern-ai-styling"):(0,n.__)("After","wyvern-ai-styling"),f=u?r:i,j=u?void 0:c;return(0,a.jsxs)("div",{className:"k_tFyH5zTsw9t2vo5e8Q",children:[v,(0,a.jsxs)("div",{className:"rRrXFj6SmuNSpg7s3mvL",children:[(0,a.jsx)(o.Button,{className:`${T} ${u?"":V}`,onClick:()=>g(!1),variant:u?"secondary":"primary",children:(0,n.__)("After","wyvern-ai-styling")}),(0,a.jsx)(o.Button,{className:`${T} ${u?V:""}`,onClick:()=>g(!0),variant:u?"primary":"secondary",children:(0,n.__)("Before","wyvern-ai-styling")})]}),(0,a.jsxs)("div",{className:H,children:[(0,a.jsx)("div",{className:D,children:_}),(0,a.jsx)("div",{className:W,children:X(f,w,U,j)}),(0,a.jsx)("pre",{className:F,children:(0,a.jsxs)("code",{children:[x||(0,n.__)("(no styles)","wyvern-ai-styling"),!u&&d?`\n\n/* Hover/Animation styles */\n${d}`:""]})})]})]})}const O=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 4.5h11a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V5a.5.5 0 0 1 .5-.5ZM3 5a2 2 0 0 1 2-2h11a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5Zm17 3v10.75c0 .69-.56 1.25-1.25 1.25H6v1.5h12.75a2.75 2.75 0 0 0 2.75-2.75V8H20Z"})}),Q=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"})}),K=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})});function Y({cssText:e,onApply:s,onCancel:t,canUndo:r=!1,onUndo:i,applyLabel:d}){const[u,g]=(0,l.useState)(!1),[m,y]=(0,l.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[m&&(0,a.jsxs)("div",{className:"QvtVw30EqSExWv3wzvEU",role:"status","aria-live":"polite",children:[(0,a.jsx)("span",{className:"ScGj5kyu7hNuk1t1aYXV","aria-hidden":"true",children:c}),(0,n.__)("Styles applied successfully!","wyvern-ai-styling")]}),(0,a.jsxs)("div",{className:"RSEIJ5TPtCHdDq0Aq39W",children:[(0,a.jsx)(o.Button,{className:$,variant:"primary",onClick:()=>{s(),y(!0),setTimeout(()=>y(!1),3e3)},children:null!=d?d:(0,n.__)("Apply Styles","wyvern-ai-styling")}),(0,a.jsx)(o.Button,{className:$,variant:"secondary",onClick:t,children:(0,n.__)("Cancel","wyvern-ai-styling")})]}),e&&(0,a.jsxs)("div",{className:"N8azoNjabhCCE3lsV5ox",children:[(0,a.jsx)(o.Button,{className:Z,icon:O,label:u?(0,n.__)("Copied!","wyvern-ai-styling"):(0,n.__)("Copy CSS","wyvern-ai-styling"),onClick:async()=>{await async function(e){try{return await navigator.clipboard.writeText(e),!0}catch{return!1}}(e)&&(g(!0),setTimeout(()=>g(!1),2e3))},variant:"secondary",disabled:u,children:u?(0,n.__)("Copied!","wyvern-ai-styling"):(0,n.__)("Copy","wyvern-ai-styling")}),(0,a.jsx)(o.Button,{className:Z,icon:Q,label:(0,n.__)("Download CSS file","wyvern-ai-styling"),onClick:()=>{!function(e,s="styles.css"){const t=new Blob([e],{type:"text/css"}),n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=s,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}(e)},variant:"secondary",children:(0,n.__)("Download","wyvern-ai-styling")}),r&&i&&(0,a.jsx)(o.Button,{className:Z,icon:K,label:(0,n.__)("Undo last change","wyvern-ai-styling"),onClick:i,variant:"secondary",children:(0,n.__)("Undo","wyvern-ai-styling")})]})]})}const ee=(0,a.jsx)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsx)(r.Path,{d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM12.75 8V13H11.25V8H12.75ZM12.75 14.5V16H11.25V14.5H12.75Z"})}),se=(0,a.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5 12a6.5 6.5 0 1 0 13 0 6.5 6.5 0 0 0-13 0ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm.75 4v1.5h-1.5V8h1.5Zm0 8v-5h-1.5v5h1.5Z"})});function te(e){const s=[];if(e["font-size"]){const t=function(e){const s=parseFloat(e);return"px"===e.replace(/[0-9.]/g,"")&&s<14?{type:"contrast",severity:"warning",message:(0,n.__)("Font size may be too small for accessibility","wyvern-ai-styling"),property:"font-size",currentValue:e,suggestion:(0,n.__)("Use at least 14px or larger","wyvern-ai-styling")}:null}(e["font-size"]);t&&s.push(t)}if(e.color&&e.background){const r=(t=e.color)===e.background?{type:"contrast",severity:"error",message:(0,n.__)("Foreground and background colors are identical","wyvern-ai-styling"),property:"color",currentValue:t,suggestion:(0,n.__)("Use contrasting colors","wyvern-ai-styling")}:null;r&&s.push(r)}var t;return e.background&&e.background.includes("transparent")&&!e.color&&s.push({type:"contrast",severity:"warning",message:(0,n.__)("Transparent background without explicit text color may cause contrast issues","wyvern-ai-styling"),property:"background",suggestion:(0,n.__)("Set an explicit text color","wyvern-ai-styling")}),"none"!==e.outline&&"0"!==e.outline||e["box-shadow"]||e.border||s.push({type:"focus",severity:"error",message:(0,n.__)("Outline removed without alternative focus indicator","wyvern-ai-styling"),property:"outline",suggestion:(0,n.__)("Add box-shadow or border for focus state","wyvern-ai-styling")}),s}function ne({styles:e,warnings:s=[]}){const t=[...te(e),...s.map(e=>({type:"aria",severity:"warning",message:e}))];return 0===t.length?null:(0,a.jsxs)("div",{className:"ZmdKuTll0VIGOx75AoDX",children:[(0,a.jsx)("h4",{className:"QyIN1l51H4B60x6CCMX2",children:(0,n.__)("Accessibility Review","wyvern-ai-styling")}),(0,a.jsx)("ul",{className:"TSzbbeLnr4BFIMVvDvOQ",children:t.map((e,s)=>(0,a.jsxs)("li",{className:"WgiCk2v8ScrQ6qT2P3s3 "+("error"===e.severity?"OOReRpjFWwTB8dz8qpWw":""),children:[(0,a.jsx)("span",{className:"VFc023pKM4NaWcosbIRZ","aria-hidden":"true",children:"error"===e.severity?ee:se}),(0,a.jsxs)("div",{className:"GnfI58GMTjNKtPqRtv2W",children:[(0,a.jsx)("strong",{children:e.message}),e.property&&(0,a.jsxs)("div",{children:[(0,n.__)("Property:","wyvern-ai-styling")," ",(0,a.jsx)("code",{children:e.property})]}),e.suggestion&&(0,a.jsxs)("div",{children:[(0,n.__)("Suggestion:","wyvern-ai-styling")," ",e.suggestion]})]})]},s))})]})}function re(e){switch(e){case"insert_block":return(0,n.__)("Insert after current selection","wyvern-ai-styling");case"replace_block":return(0,n.__)("Replace current selection","wyvern-ai-styling");default:return(0,n.__)("Update current block","wyvern-ai-styling")}}function ae({generateContent:e}){const s=function(e,s){var t,r,a,i,l,o,c;switch(e){case"table":return(0,n.sprintf)(/* translators: 1: number of columns, 2: number of rows */ /* translators: 1: number of columns, 2: number of rows */
(0,n.__)("a table with %1$d columns and %2$d rows","wyvern-ai-styling"),null!==(t=s.columns)&&void 0!==t?t:2,null!==(r=s.rows)&&void 0!==r?r:3);case"table_with_headers":{const e=s.headers;return e&&e.length>0?(0,n.sprintf)((0,n.__)('a table with headers "%s"',"wyvern-ai-styling"),e.join('", "')):(0,n.__)("a table with headers","wyvern-ai-styling")}case"list_unordered":
/* translators: %d: number of items */
return(0,n.sprintf)((0,n.__)("a bulleted list with %d items","wyvern-ai-styling"),null!==(a=s.items)&&void 0!==a?a:3);case"list_ordered":
/* translators: %d: number of items */
return(0,n.sprintf)((0,n.__)("a numbered list with %d items","wyvern-ai-styling"),null!==(i=s.items)&&void 0!==i?i:3);case"columns":
/* translators: %d: number of columns */
return(0,n.sprintf)((0,n.__)("a %d-column layout","wyvern-ai-styling"),null!==(l=s.count)&&void 0!==l?l:2);case"button":{const e=s.text;return e?(0,n.sprintf)((0,n.__)('a button with text "%s"',"wyvern-ai-styling"),e):(0,n.__)("a button","wyvern-ai-styling")}case"callout":return(0,n.__)("a callout/notice block","wyvern-ai-styling");case"card":{const e=s.title;return e?(0,n.sprintf)((0,n.__)('a card titled "%s"',"wyvern-ai-styling"),e):(0,n.__)("a card block","wyvern-ai-styling")}case"quote":return(0,n.__)("a quote block","wyvern-ai-styling");case"image":return(0,n.__)("an image placeholder","wyvern-ai-styling");case"separator":return(0,n.__)("a separator/divider","wyvern-ai-styling");case"heading":
/* translators: %d: heading level (1-6) */
return(0,n.sprintf)((0,n.__)("an h%d heading","wyvern-ai-styling"),null!==(o=s.level)&&void 0!==o?o:2);case"spacer":
/* translators: %d: spacer height in pixels */
return(0,n.sprintf)((0,n.__)("a spacer (%dpx)","wyvern-ai-styling"),null!==(c=s.height)&&void 0!==c?c:100);case"code":return(0,n.__)("a code block","wyvern-ai-styling");case"cover":return(0,n.__)("a cover/hero block","wyvern-ai-styling");case"media_text":return(0,n.__)("a media & text block","wyvern-ai-styling");case"gallery":return(0,n.__)("an image gallery","wyvern-ai-styling");case"details":return(0,n.__)("a details/accordion block","wyvern-ai-styling");case"search":return(0,n.__)("a search box","wyvern-ai-styling");case"navigation":return(0,n.__)("a navigation menu","wyvern-ai-styling");case"social_links":return(0,n.__)("a social links block","wyvern-ai-styling");case"buttons":return(0,n.__)("a buttons group","wyvern-ai-styling");default:
/* translators: %s: block type name */
return(0,n.sprintf)((0,n.__)("a %s block","wyvern-ai-styling"),e.replace(/_/g," "))}}(e.type,e.params);return(0,a.jsxs)("div",{className:"IKKuAQnXovdbN8gT2Jpr",children:[(0,a.jsxs)(o.Notice,{status:"info",isDismissible:!1,children:[(0,a.jsx)("strong",{children:(0,n.__)("Content Generation","wyvern-ai-styling")}),(0,a.jsx)("p",{children:/* translators: %s: description of content to create */ /* translators: %s: description of content to create */
(0,n.sprintf)((0,n.__)("This will create %s","wyvern-ai-styling"),s)})]}),e.warning&&(0,a.jsx)(o.Notice,{status:"warning",isDismissible:!1,children:e.warning}),(0,a.jsxs)("div",{className:"EzL4qrVZJd5SEUYwd7Dr",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:(0,n.__)("Block type:","wyvern-ai-styling")})," ",(0,a.jsx)("code",{children:e.blockName})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:(0,n.__)("Action:","wyvern-ai-styling")})," ",re(e.action)]})]})]})}function ie({upgradeMessage:e,upgradeUrl:s}){const t=(0,n.__)("Want better results? Upgrade to Premium for faster, more powerful AI models.","wyvern-ai-styling");return(0,a.jsx)("div",{className:"DwZboF0HNpq1I1wb9Av_",children:(0,a.jsxs)(o.Notice,{status:"info",isDismissible:!1,children:[(0,a.jsx)("p",{className:"r6HewF4McRtASUifNtGr",children:e||t}),(0,a.jsx)("a",{href:s||"https://wordpress.org/plugins/wyverncss/",target:"_blank",rel:"noopener noreferrer",className:"z3JTnSSaaG1WoXZrEgbR",children:(0,n.__)("Upgrade to Premium","wyvern-ai-styling")})]})})}function le({originalStyles:e,proposedStyles:s,onApply:t,onCancel:r,cssText:i="",reasoning:l,accessibilityWarnings:c=[],transformElement:d,generateContent:u,showUpgradePrompt:g,upgradeMessage:m,upgradeUrl:y,source:h,confidence:p,originalElementContext:v,proposedElementContext:w,customClassName:x,stylesheet:_}){var f;const j=null!==(f=u?.detected)&&void 0!==f&&f,b=(()=>{if(!h)return null;switch(h){case"pattern_library":case"pattern_library_cache":return{label:(0,n.__)("Pattern Match","wyvern-ai-styling"),icon:"✔",className:"GjHFesVEseAtl_itbWdR"};case"ai":return{label:(0,n.__)("AI Generated","wyvern-ai-styling"),icon:"✨",className:"CbSePd37dM14I7Js3hCa"};default:return null}})();return(0,a.jsxs)("div",{className:"r8zQfqrxNBheKlKAfxDw",children:[(0,a.jsxs)("div",{className:"JngsvAp05NdDYrKdYikZ",children:[(0,a.jsx)("h3",{className:"ttxFg7FvORItgAndGfaC",children:j?(0,n.__)("Content Preview","wyvern-ai-styling"):(0,n.__)("Style Preview","wyvern-ai-styling")}),b&&!j&&(0,a.jsxs)("span",{className:`zVJmIDXUr2EnGpjcsHFS ${b.className}`,children:[(0,a.jsx)("span",{className:"wyqiVasE2w6HKLdGBcyk",children:b.icon}),b.label,void 0!==p&&"ai"!==h&&(0,a.jsxs)("span",{className:"cKeDmXrW_S741gqcd6Ud",children:[p,"%"]})]})]}),j&&u&&(0,a.jsx)(ae,{generateContent:u}),d&&!j&&(0,a.jsxs)(o.Notice,{status:"warning",isDismissible:!1,children:[(0,n.__)("This will transform the element from","wyvern-ai-styling"),(0,a.jsxs)("code",{children:["<",d.currentTag,">"]}),(0,n.__)("to","wyvern-ai-styling"),(0,a.jsxs)("code",{children:["<",d.newTag,">"]})]}),!j&&(0,a.jsx)("div",{className:"i5D5VNyH0VL3_HQc6cHG",children:(0,a.jsx)(J,{originalStyles:e,proposedStyles:s,mode:"toggle",originalElementContext:v,proposedElementContext:w,customClassName:x,stylesheet:_})}),l&&!j&&(0,a.jsxs)("div",{className:"bF1nvNaUhy8lyQifWlXl",children:[(0,a.jsx)("h4",{className:"mbwlwSpSzGrNzB98xFVW",children:(0,n.__)("Design Reasoning","wyvern-ai-styling")}),(0,a.jsx)("p",{children:l})]}),!j&&(0,a.jsx)(ne,{styles:s,warnings:c}),g&&!j&&(0,a.jsx)(ie,{upgradeMessage:m,upgradeUrl:y}),(0,a.jsx)(Y,{cssText:j?"":i,onApply:t,onCancel:r,applyLabel:j?(0,n.__)("Create Block","wyvern-ai-styling"):void 0})]})}const oe=(0,l.forwardRef)(({icon:e,size:s=24,...t},n)=>(0,l.cloneElement)(e,{width:s,height:s,...t,ref:n})),ce="C13V_iJc7aasMe4LphR9",de="OPmsdgPNnoOxgFQg5BvE",ue="TbMGSv7bhJdGkcIjyuFY",ge="NoUjx8jadG9LecAQiqau";function me(e){switch(e){case"professional":return(0,n.__)("Professional","wyvern-ai-styling");case"premium":return(0,n.__)("Premium","wyvern-ai-styling");default:return(0,n.__)("Free","wyvern-ai-styling")}}function ye(e){switch(e){case"professional":return"P2puSiGPfHfqrgTJ81hp";case"premium":return"BtKpFratuH270bMPiPWu";default:return"NeofMTiyfSjslujGuGET"}}function he({usage:e,isLoading:s=!1,compact:t=!1,upgradeUrl:r}){const i="https://wordpress.org/plugins/wyverncss/";if(s)return(0,a.jsx)("div",{className:`${ce} ${t?de:""}`,children:(0,a.jsx)(o.Spinner,{})});if(!e)return(0,a.jsx)("div",{className:`${ce} ${t?de:""}`,children:(0,a.jsx)("span",{className:"x26u_BF1DW1eJpqcreag",children:(0,n.__)("Usage unavailable","wyvern-ai-styling")})});const{tier:l,requestsUsed:c,requestsLimit:d,requestsRemaining:u}=e,g=-1===d,m=g?0:c/d*100,y=!g&&m>=80,h=!g&&u<=0;let p="iXSYRNckniR0qJfsgvPl";h?p="oqfkO1v8L3qXaK6E15W2":y&&(p="ODCAnEmnz6ysDDglmUoP");const v="free"===l?(0,n.__)("today","wyvern-ai-styling"):(0,n.__)("this month","wyvern-ai-styling"),w=g?(0,n.__)("Unlimited AI requests with Professional tier","wyvern-ai-styling"):"free"===l?(0,n.__)("Free tier: 60 AI requests per day. Resets at midnight UTC.","wyvern-ai-styling"):(0,n.__)("Premium tier: 500 AI requests per month. Resets on billing date.","wyvern-ai-styling");return(0,a.jsxs)("div",{className:`${ce} ${t?de:""}`,children:[(0,a.jsxs)("div",{className:"fFpoTuF98yywKcfU8RIn",children:[(0,a.jsx)("span",{className:`tC6NNwhA3AdsZ1Ews688 ${ye(l)}`,children:me(l)}),(0,a.jsx)(o.Tooltip,{text:w,children:(0,a.jsx)("span",{className:"_ZrCByxmB1dX9bvl4HCz",children:(0,a.jsx)(oe,{icon:se,size:14})})})]}),!t&&(0,a.jsx)("div",{className:"NjXRY3vs1VF5SN7MgCu5",children:g?(0,a.jsxs)("div",{className:"W5xZo1cbH7mP4KigRsrv",children:[(0,a.jsx)("span",{className:"T3XWREb24PpD4rhLy4nj",children:"∞"}),(0,a.jsx)("span",{className:"jzze06VWyVlTT24Edity",children:(0,n.__)("Unlimited requests","wyvern-ai-styling")})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"ZOxW5W2yC4EMDLIF80zV",children:(0,a.jsx)("div",{className:`IWJpnAosAqpcshnTXGom ${p}`,style:{width:`${Math.min(m,100)}%`}})}),(0,a.jsxs)("div",{className:"aFOUIDV_mEHs3LePf8sC",children:[(0,a.jsxs)("span",{className:"PCvthvCCWz6jrGEX6At1",children:[(0,a.jsx)("strong",{children:u})," ",(0,n.__)("remaining","wyvern-ai-styling")]}),(0,a.jsxs)("span",{className:"CnMwuOgE9XNhFVbBTRTP",children:[c,"/",d," ",v]})]})]})}),t&&!g&&(0,a.jsxs)("span",{className:`${ue} ${y?"eP_v6MSh3b3EZ52edwtu":""}`,children:[u,"/",d]}),t&&g&&(0,a.jsx)("span",{className:ue,children:"∞"}),y&&!h&&"free"===l&&!t&&(0,a.jsx)("a",{href:r||i,target:"_blank",rel:"noopener noreferrer",className:ge,children:(0,n.__)("Upgrade to Premium","wyvern-ai-styling")}),h&&"free"===l&&(0,a.jsxs)("div",{className:"NtxrMtSWtHs7NHfwWWvw",children:[(0,a.jsx)("span",{children:(0,n.__)("Daily limit reached","wyvern-ai-styling")}),(0,a.jsx)("a",{href:r||i,target:"_blank",rel:"noopener noreferrer",className:ge,children:(0,n.__)("Upgrade for unlimited requests","wyvern-ai-styling")})]})]})}function pe(){const e=window.wyverncssApiSettings?.nonce;if(!e)throw new Error("WordPress nonce not found");return e}function ve(){const[e,s]=(0,l.useState)("idle"),[t,n]=(0,l.useState)(null),[r,a]=(0,l.useState)(null),i=(0,l.useCallback)(async e=>{s("loading"),n(null);try{const t=await async function(e){const s=function(e){const s=window.wyverncssApiSettings?.root;if(!s)throw new Error("WordPress REST API URL not found");return`${s}wyverncss/v1/${e}`}("style"),t=await async function(e,s,t=3e4){const n=new AbortController,r=setTimeout(()=>n.abort(),t);try{const t=await fetch(e,{...s,signal:n.signal,headers:{"Content-Type":"application/json","X-WP-Nonce":pe(),...s.headers}});if(clearTimeout(r),!t.ok){const e=await t.json().catch(()=>({}));throw{message:e.message||`HTTP ${t.status}: ${t.statusText}`,statusCode:t.status,code:e.code,data:e.data}}return await t.json()}catch(e){if(clearTimeout(r),e instanceof Error&&"AbortError"===e.name)throw{message:"Request timeout - AI processing took too long",statusCode:408,code:"request_timeout"};if("object"==typeof(a=e)&&null!==a&&"message"in a&&"statusCode"in a)throw e;throw{message:e instanceof Error?e.message:"Network request failed",statusCode:0,code:"network_error"}}var a}(s,{method:"POST",body:JSON.stringify(e)});if(!t.success)throw{message:t.error||"Design generation failed",statusCode:400,code:t.code||"design_generation_failed"};return t}(e);return s("success"),a(t),t}catch(e){return s("error"),function(e){return"object"==typeof e&&null!==e&&"message"in e&&"statusCode"in e}(e)||e instanceof Error?n(e.message):n("An unexpected error occurred"),null}},[]),o=(0,l.useCallback)(()=>{n(null),"error"===e&&s("idle")},[e]);return{submit:i,loadingState:e,error:t,clearError:o,lastResponse:r}}const we=window.wp.apiFetch;var xe=e.n(we);const _e=window.wp.data,fe=window.wp.blocks;function je(e,s){return s===e?h:s>e?"RLbt0hyLs_NrQg0ORRUI":""}function be(){var e,s,t;const[r,i]=(0,l.useState)(!0),[x,_]=(0,l.useState)(null),[f,j]=(0,l.useState)(null),[b,N]=(0,l.useState)(void 0),{submit:C,loadingState:k,error:E}=ve(),{usage:L,isLoading:B,incrementUsage:I}=function(){const[e,s]=(0,l.useState)(null),[t,n]=(0,l.useState)(!0),[r,a]=(0,l.useState)(null),i=(0,l.useCallback)(async()=>{n(!0),a(null);try{const e=await xe()({path:"/wyverncss/v1/usage",method:"GET"});if(e&&e.success&&e.data){const{tier:t,current_period:n}=e.data,r=function(e){switch(e.toLowerCase()){case"professional":case"pro":return"professional";case"premium":case"starter":return"premium";default:return"free"}}(t),a="professional"===r?-1:n.limit,i="professional"===r?-1:n.remaining;s({tier:r,requestsUsed:n.used,requestsLimit:a,requestsRemaining:i,resetAt:n.reset_at})}else s({tier:"free",requestsUsed:0,requestsLimit:20,requestsRemaining:20})}catch(e){s({tier:"free",requestsUsed:0,requestsLimit:20,requestsRemaining:20}),e instanceof Error?a(e.message):a("Failed to fetch usage info")}finally{n(!1)}},[]),o=(0,l.useCallback)(()=>{s(e=>e&&-1!==e.requestsLimit?{...e,requestsUsed:e.requestsUsed+1,requestsRemaining:Math.max(0,e.requestsRemaining-1)}:e)},[]);(0,l.useEffect)(()=>{i()},[i]);const c=null!==e&&e.requestsLimit>0&&e.requestsRemaining<=.2*e.requestsLimit,d=null!==e&&e.requestsLimit>0&&e.requestsRemaining<=0;let u="";return e&&(u=-1===e.requestsLimit?"Unlimited":"free"===e.tier?`${e.requestsRemaining}/${e.requestsLimit} today`:`${e.requestsRemaining}/${e.requestsLimit} this month`),{usage:e,isLoading:t,error:r,refresh:i,incrementUsage:o,isApproachingLimit:c,isOverLimit:d,remainingText:u}}(),R=(0,_e.useSelect)(e=>{var s,t,n;const r=e("core/block-editor"),a=r.getSelectedBlockClientId(),i=a?r.getBlock(a):null;return{clientId:a,blockName:null!==(s=i?.name)&&void 0!==s?s:null,attributes:null!==(t=i?.attributes)&&void 0!==t?t:null,isSelected:null!==a,blockIndex:a?r.getBlockIndex(a):-1,rootClientId:a?r.getBlockRootClientId(a):null,innerBlocks:null!==(n=i?.innerBlocks?.map(e=>({clientId:e.clientId,name:e.name,attributes:e.attributes})))&&void 0!==n?n:[]}},[]),{insertBlockAfterSelection:P,replaceSelectedBlock:q,updateBlockAttributes:T}=function(){const{insertBlock:e,replaceBlock:s,replaceBlocks:t,updateBlockAttributes:n,removeBlock:r}=(0,_e.useDispatch)("core/block-editor"),{getSelectedBlockClientId:a,getBlockIndex:i,getBlockRootClientId:o}=(0,_e.useSelect)(e=>{const s=e("core/block-editor");return{getSelectedBlockClientId:s.getSelectedBlockClientId,getBlockIndex:s.getBlockIndex,getBlockRootClientId:s.getBlockRootClientId}},[]),c=(0,l.useCallback)(e=>{var s;const t=null!==(s=e.innerBlocks?.map(c))&&void 0!==s?s:[];return(0,fe.createBlock)(e.name,e.attributes,t)},[]),d=(0,l.useCallback)(s=>{const t=a();if(!t){const t=c(s);return void e(t,void 0,null,!0)}const n=o(t),r=i(t),l=c(s);e(l,r+1,n,!0)},[c,e,a,i,o]),u=(0,l.useCallback)(s=>{const t=a();if(!t){const t=c(s);return void e(t,0,null,!0)}const n=o(t),r=i(t),l=c(s);e(l,r,n,!0)},[c,e,a,i,o]),g=(0,l.useCallback)(e=>{const t=a();if(!t)return void d(e);const n=c(e);s(t,n)},[c,s,a,d]),m=(0,l.useCallback)((e,s)=>{const n=s.map(c);t(e,n)},[c,t]),y=(0,l.useCallback)((e,s)=>{n(e,s)},[n]),h=(0,l.useCallback)(e=>{r(e,!0)},[r]);return{insertBlockAfterSelection:d,insertBlockBeforeSelection:u,replaceSelectedBlock:g,replaceBlocks:m,updateBlockAttributes:y,removeBlock:h,createBlockFromSpec:c}}(),V=(0,l.useCallback)(e=>{_(e),j(null)},[]),H=(0,l.useCallback)(()=>{_(null),j(null)},[]),D=(0,l.useCallback)(async e=>{if(!x)return;const s={},t=x.computedStyles;["color","background","background-color","font-size","font-weight","font-family","padding","margin","border","border-radius","box-shadow","display","width","height"].forEach(e=>{const n=t.getPropertyValue(e);n&&(s[e]=n)});const n={prompt:e,selector:x.selector,currentStyles:s,elementContext:{tag:x.tag,classes:x.classes,id:x.id,textContent:x.textContent},blockContext:(r=R,{clientId:r.clientId,blockName:r.blockName,blockAttributes:r.attributes,blockIndex:r.blockIndex})};var r;const a=await C(n);if(a&&a.success){const e=a.data||a;if("ai"===e.source&&I(),e.generateContent?.detected)return void j({original:s,proposed:{},cssText:"",reasoning:e.generateContent.warning,warnings:[],generateContent:e.generateContent});const t={};let n="";e.css&&("string"==typeof e.css?(n=e.css,n.split(";").filter(e=>e.trim()).forEach(e=>{const[s,n]=e.split(":").map(e=>e.trim());s&&n&&(t[s]=n)})):"object"==typeof e.css&&(Object.assign(t,e.css),n=Object.entries(t).map(([e,s])=>`${e}: ${s}`).join("; "))),j({original:s,proposed:t,cssText:n,reasoning:e.reasoning,warnings:e.accessibilityWarnings,transformElement:e.transformElement,customClassName:e.customClassName,stylesheet:e.stylesheet,showUpgradePrompt:e.show_upgrade_prompt,upgradeMessage:e.upgrade_message,upgradeUrl:e.upgrade_url,source:e.source,confidence:e.confidence})}},[x,C,R,I]),W=(0,l.useCallback)(()=>{if(!f)return;if(f.generateContent?.detected&&f.generateContent.block){const{action:e,block:s}=f.generateContent;return"insert_block"===e?P(s):"replace_block"===e&&q(s),void j(null)}if(!x)return;const e=x.node;if(f.transformElement){const{newTag:e,textContent:s}=f.transformElement,t=f.proposed,n=(e,s)=>t[e]||t[s],r={},a=n("background-color","backgroundColor");a&&(r.color=r.color||{},r.color.background=a),t.color&&(r.color=r.color||{},r.color.text=t.color);const i=n("border-radius","borderRadius");i&&(r.border=r.border||{},r.border.radius=i);const l=t.padding;let o;l&&(r.spacing=r.spacing||{},r.spacing.padding={top:l,right:l,bottom:l,left:l});const{customClassName:c,stylesheet:d}=f;switch(e){case"button":o=c&&d?{name:"core/group",attributes:{},innerBlocks:[{name:"core/html",attributes:{content:`<style>${d}</style>`}},{name:"core/buttons",attributes:{},innerBlocks:[{name:"core/button",attributes:{text:s||x.textContent||"Button",style:r,className:c}}]}]}:{name:"core/buttons",attributes:{},innerBlocks:[{name:"core/button",attributes:{text:s||x.textContent||"Button",style:r}}]};break;case"a":o={name:"core/paragraph",attributes:{content:`<a href="#">${s||x.textContent||"Link"}</a>`,style:r}};break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":o={name:"core/heading",attributes:{content:s||x.textContent||"Heading",level:parseInt(e.charAt(1),10),style:r}};break;default:o={name:"core/paragraph",attributes:{content:s||x.textContent||"",style:r}}}return q(o),j(null),void _(null)}if(R.clientId){const e=f.proposed,s=R.attributes?.style||{},t=(e,s)=>{const n={...e||{}};return Object.entries(s).forEach(([e,s])=>{"object"!=typeof s||null===s||Array.isArray(s)?n[e]=s:n[e]=t(n[e],s)}),n},n={};(e["background-color"]||e.backgroundColor)&&(n.color=n.color||{},n.color.background=e["background-color"]||e.backgroundColor),e.color&&(n.color=n.color||{},n.color.text=e.color),(e["border-radius"]||e.borderRadius)&&(n.border=n.border||{},n.border.radius=e["border-radius"]||e.borderRadius),e.padding&&(n.spacing=n.spacing||{},n.spacing.padding={top:e.padding,right:e.padding,bottom:e.padding,left:e.padding});const r=t(s,n);return T(R.clientId,{style:r}),void j(null)}Object.entries(f.proposed).forEach(([s,t])=>{e.style.setProperty(s,t)}),j(null)},[x,f,P,q,R.clientId,T]),U=(0,l.useCallback)(()=>{j(null)},[]),F=f?3:x?2:1;return(0,a.jsxs)("div",{className:"MFD1nARSSBQvZfrlSdZg",children:[(0,a.jsx)(w,{}),(0,a.jsxs)("div",{className:"UbPV7TCwY6sauxawBy2y",children:[(0,a.jsx)("h3",{className:"xcDCIjqiTr5tt7r5i7nf",children:(0,n.__)("Workflow","wyvern-ai-styling")}),(0,a.jsxs)("div",{className:"SkH4cSXFwSKl9qJPKIIN",children:[(0,a.jsxs)("div",{className:`${y} ${je(1,F)}`,children:[(0,a.jsx)("span",{className:p,"aria-hidden":"true",children:F>1?c:d}),(0,a.jsx)("span",{className:v,children:(0,n.__)("1. Select Element","wyvern-ai-styling")})]}),(0,a.jsxs)("div",{className:`${y} ${je(2,F)}`,children:[(0,a.jsx)("span",{className:p,"aria-hidden":"true",children:F>2?c:u}),(0,a.jsx)("span",{className:v,children:(0,n.__)("2. Enter Prompt","wyvern-ai-styling")})]}),(0,a.jsxs)("div",{className:`${y} ${3===F?h:""}`,children:[(0,a.jsx)("span",{className:p,"aria-hidden":"true",children:c}),(0,a.jsx)("span",{className:v,children:(0,n.__)("3. Apply Styles","wyvern-ai-styling")})]})]}),(0,a.jsx)(o.ToggleControl,{className:"PTRHNf58cr_dvt7vwIpJ",label:(0,n.__)("Enable element selection","wyvern-ai-styling"),checked:r,onChange:i,__nextHasNoMarginBottom:!0,help:r?(0,n.__)("Click elements to select them","wyvern-ai-styling"):(0,n.__)("Enable to select elements","wyvern-ai-styling")}),(0,a.jsx)("div",{className:"B0sedx7fkXk8HT9GVyQl",children:(0,a.jsx)(he,{usage:L,isLoading:B})})]}),(0,a.jsxs)("div",{className:"VHPZW0vHEwksl04WvTlA",children:[(0,a.jsx)("div",{className:g,children:(0,a.jsx)(S,{onElementSelect:V,enabled:r,onClearSelection:H})}),(0,a.jsx)("div",{className:g,children:(0,a.jsx)(M,{selectedElement:x,onSubmit:D,loadingState:k,error:E||void 0,hideSuggestions:!!f,externalPrompt:b,onExternalPromptConsumed:()=>N(void 0),usage:L})}),f&&(x||f.generateContent)&&(0,a.jsx)("div",{className:g,children:(0,a.jsx)(le,{originalStyles:f.original,proposedStyles:f.proposed,selector:null!==(e=x?.selector)&&void 0!==e?e:"",onApply:W,onCancel:U,cssText:f.cssText,reasoning:f.reasoning,accessibilityWarnings:f.warnings,transformElement:f.transformElement&&x?{currentTag:x.tag,newTag:f.transformElement.newTag}:void 0,generateContent:f.generateContent,showUpgradePrompt:f.showUpgradePrompt,upgradeMessage:f.upgradeMessage,upgradeUrl:f.upgradeUrl,source:f.source,confidence:f.confidence,originalElementContext:x?{tag:x.tag,textContent:x.textContent}:void 0,proposedElementContext:x?{tag:null!==(s=f.transformElement?.newTag)&&void 0!==s?s:x.tag,textContent:null!==(t=f.transformElement?.textContent)&&void 0!==t?t:x.textContent}:void 0,customClassName:f.customClassName,stylesheet:f.stylesheet})}),x&&(0,a.jsx)("div",{className:g,children:(0,a.jsx)(A,{onHistoryClick:N,disabled:"loading"===k})})]}),(0,a.jsx)("div",{className:"wbu4C26Puce_2Gb7N7tI",children:(0,a.jsxs)("div",{className:"XX04qBCahVCLH_oI6_r4",children:[(0,a.jsx)("span",{children:(0,n.__)("WyvernCSS v1.0.0","wyvern-ai-styling")}),(0,a.jsxs)("span",{children:[(0,a.jsx)("a",{href:"https://wyverncss.io",target:"_blank",rel:"noopener noreferrer",className:m,children:(0,n.__)("Documentation","wyvern-ai-styling")})," • ",(0,a.jsx)("a",{href:"https://github.com/wyverncss/wyverncss",target:"_blank",rel:"noopener noreferrer",className:m,children:(0,n.__)("Support","wyvern-ai-styling")})]})]})})]})}(0,s.registerPlugin)("wyvern-ai-styling",{render:()=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.PluginSidebarMoreMenuItem,{target:"wyvern-ai-styling",icon:i,children:(0,n.__)("WyvernCSS","wyvern-ai-styling")}),(0,a.jsx)(t.PluginSidebar,{name:"wyvern-ai-styling",title:(0,n.__)("WyvernCSS","wyvern-ai-styling"),icon:i,className:"wyverncss-sidebar",children:(0,a.jsx)(be,{})})]})})})();