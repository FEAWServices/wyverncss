(()=>{var e={173:()=>{}},s={};function n(a){var t=s[a];if(void 0!==t)return t.exports;var r=s[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return n.d(s,{a:s}),s},n.d=(e,s)=>{for(var a in s)n.o(s,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:s[a]})},n.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{"use strict";const e=window.wp.element,s=window.React,a=window.wp.i18n,t=window.wp.components;async function r(e,s={}){const n=function(){if(void 0===window.wyvernPressAI)throw new Error("WordPress data not found. Ensure the script is properly enqueued.");return window.wyvernPressAI}(),a=`${n.apiUrl}${e}`;try{const e=await fetch(a,{...s,headers:{"Content-Type":"application/json","X-WP-Nonce":n.nonce,...s.headers}}),t=await e.json();return e.ok?{success:!0,data:t}:{success:!1,error:t}}catch(e){return{success:!1,error:{code:"network_error",message:e instanceof Error?e.message:"Network request failed"}}}}const i={sendMessage:async e=>r("/chat/message",{method:"POST",body:JSON.stringify(e)}),getConversations:async(e=20,s=0,n="desc")=>r(`/chat/conversations?${new URLSearchParams({limit:e.toString(),offset:s.toString(),order:n})}`),createConversation:async e=>r("/chat/conversations",{method:"POST",body:JSON.stringify(e)}),getConversation:async(e,s=50)=>r(`/chat/conversations/${e}?${new URLSearchParams({limit:s.toString()})}`),deleteConversation:async e=>r(`/chat/conversations/${e}`,{method:"DELETE"}),async getHistory(e,s=50,n){const a=new URLSearchParams({limit:s.toString()});return n&&a.append("before",n.toString()),r(`/chat/history/${e}?${a}`)}},c=async()=>r("/settings"),o=async e=>r("/settings/openrouter-key",{method:"POST",body:JSON.stringify({api_key:e})}),l=async()=>r("/settings/openrouter-key",{method:"DELETE"}),d=async e=>r("/settings/verify-key",{method:"POST",body:JSON.stringify({api_key:e})}),m=async e=>r("/settings/preferences",{method:"POST",body:JSON.stringify(e)}),u=async()=>r("/settings/models"),h=async e=>r("/admin-ai/execute",{method:"POST",body:JSON.stringify(e)});function y(){const[s,n]=(0,e.useState)(null),[a,t]=(0,e.useState)([]),[r,i]=(0,e.useState)(!1),[h,y]=(0,e.useState)(null),v=(0,e.useCallback)(async()=>{i(!0),y(null);try{const e=await c();e.success&&e.data?n(e.data):y(e.error?.message||"Failed to load settings")}catch(e){y(e instanceof Error?e.message:"Unknown error")}finally{i(!1)}},[]),_=(0,e.useCallback)(async()=>{i(!0),y(null);try{const e=await u();e.success&&e.data?t(e.data.models):y(e.error?.message||"Failed to load models")}catch(e){y(e instanceof Error?e.message:"Unknown error")}finally{i(!1)}},[]),x=(0,e.useCallback)(async e=>{i(!0),y(null);try{const s=await o(e);return s.success?(await v(),!0):(y(s.error?.message||"Failed to save API key"),!1)}catch(e){return y(e instanceof Error?e.message:"Unknown error"),!1}finally{i(!1)}},[v]),p=(0,e.useCallback)(async e=>{i(!0),y(null);try{const s=await d(e);return!(!s.success||!s.data?.valid)||(y(s.data?.message||"API key verification failed"),!1)}catch(e){return y(e instanceof Error?e.message:"Unknown error"),!1}finally{i(!1)}},[]),w=(0,e.useCallback)(async()=>{i(!0),y(null);try{const e=await l();return e.success?(await v(),!0):(y(e.error?.message||"Failed to delete API key"),!1)}catch(e){return y(e instanceof Error?e.message:"Unknown error"),!1}finally{i(!1)}},[v]),j=(0,e.useCallback)(async e=>{i(!0),y(null);try{const s=await m(e);return s.success?(await v(),!0):(y(s.error?.message||"Failed to save preferences"),!1)}catch(e){return y(e instanceof Error?e.message:"Unknown error"),!1}finally{i(!1)}},[v]);return(0,e.useEffect)(()=>{v()},[v]),{settings:s,models:a,isLoading:r,error:h,hasApiKey:s?.has_api_key||!1,saveApiKey:x,verifyApiKey:p,deleteApiKey:w,savePreferences:j,loadSettings:v,loadModels:_}}function v(){const[s,n]=(0,e.useState)([]),[a,t]=(0,e.useState)(null),[r,c]=(0,e.useState)(!1),[o,l]=(0,e.useState)(null),d=(0,e.useCallback)(async()=>{c(!0),l(null);try{const e=await i.getConversations(50,0,"desc");e.success&&e.data?(n(e.data.conversations),!a&&e.data.conversations.length>0&&t(e.data.conversations[0].id)):l(e.error?.message||"Failed to load conversations")}catch(e){l(e instanceof Error?e.message:"Unknown error")}finally{c(!1)}},[a]),m=(0,e.useCallback)(async e=>{c(!0),l(null);try{const s=await i.createConversation(e);return s.success&&s.data?(await d(),t(s.data.id),s.data.id):(l(s.error?.message||"Failed to create conversation"),null)}catch(e){return l(e instanceof Error?e.message:"Unknown error"),null}finally{c(!1)}},[d]),u=(0,e.useCallback)(async e=>{c(!0),l(null);try{const n=await i.deleteConversation(e);if(n.success){if(a===e){const n=s.filter(s=>s.id!==e);t(n.length>0?n[0].id:null)}return await d(),!0}return l(n.error?.message||"Failed to delete conversation"),!1}catch(e){return l(e instanceof Error?e.message:"Unknown error"),!1}finally{c(!1)}},[a,s,d]),h=(0,e.useCallback)(e=>{t(e)},[]),y=(0,e.useCallback)(async()=>{if(a){c(!0),l(null);try{const e=await i.getConversation(a);e.success&&e.data?n(s=>s.map(s=>s.id===a?{...s,updated_at:e.data.updated_at}:s)):l(e.error?.message||"Failed to refresh conversation")}catch(e){l(e instanceof Error?e.message:"Unknown error")}finally{c(!1)}}},[a]);return(0,e.useEffect)(()=>{d()},[d]),{conversations:s,currentConversationId:a,isLoading:r,error:o,createConversation:m,deleteConversation:u,selectConversation:h,loadConversations:d,refreshCurrent:y}}var _=n(173);const x=window.ReactJSXRuntime;function p({onSend:s,disabled:n=!1,placeholder:r=(0,a.__)("Ask me anything about your WordPress siteâ€¦","wyverncss")}){const[i,c]=(0,e.useState)(""),o=(0,e.useRef)(null),l=()=>{const e=i.trim();e&&!n&&(s(e),c(""),o.current?.focus())};return(0,x.jsxs)("div",{className:"message-input-container",children:[(0,x.jsxs)("div",{className:"message-input-wrapper",children:[(0,x.jsx)("textarea",{ref:o,className:"message-input",value:i,onChange:e=>{const s=e.target;c(s.value),s.style.height="auto",s.style.height=`${Math.min(s.scrollHeight,200)}px`},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),l())},placeholder:r,disabled:n,rows:1,"aria-label":(0,a.__)("Message input","wyverncss"),"aria-describedby":"message-input-help"}),(0,x.jsx)(t.Button,{variant:"primary",className:"message-send-button",onClick:l,disabled:n||!i.trim(),"aria-label":(0,a.__)("Send message","wyverncss"),children:(0,a.__)("Send","wyverncss")})]}),(0,x.jsx)("div",{id:"message-input-help",className:"message-input-help",children:(0,a.__)("Press Enter to send, Shift+Enter for new line","wyverncss")})]})}function w({conversationId:s,showToolExecutions:n=!0}){const{messages:r,isLoading:c,isSending:o,error:l,sendMessage:d}=function(s){const[n,t]=(0,e.useState)([]),[r,c]=(0,e.useState)(!1),[o,l]=(0,e.useState)(!1),[d,m]=(0,e.useState)(null),u=(0,e.useCallback)(async()=>{if(s){c(!0),m(null);try{const e=await i.getHistory(s,100);e.success&&e.data?t(e.data.messages):m(e.error?.message||(0,a.__)("Failed to load message history","wyverncss"))}catch(e){m(e instanceof Error?e.message:(0,a.__)("Unknown error","wyverncss"))}finally{c(!1)}}else t([])},[s]),h=(0,e.useCallback)(async(e,n)=>{if(!s)return m((0,a.__)("No conversation selected","wyverncss")),!1;if(!e.trim())return m((0,a.__)("Message cannot be empty","wyverncss")),!1;l(!0),m(null);const r={id:Date.now(),conversation_id:s,role:"user",content:e.trim(),created_at:(new Date).toISOString()};t(e=>[...e,r]);try{const c={conversation_id:s,message:e.trim(),model:n},o=await i.sendMessage(c);if(o.success&&o.data){const e={id:o.data.message_id,conversation_id:s,role:"assistant",content:o.data.message,tool_calls:o.data.tool_calls,tokens_used:o.data.usage.total_tokens,cost_usd:o.data.usage.estimated_cost,created_at:(new Date).toISOString()};return t(s=>[...s.filter(e=>e.id!==r.id),{...r,id:o.data.message_id-1},e]),!0}return t(e=>e.filter(e=>e.id!==r.id)),m(o.error?.message||(0,a.__)("Failed to send message","wyverncss")),!1}catch(e){return t(e=>e.filter(e=>e.id!==r.id)),m(e instanceof Error?e.message:(0,a.__)("Unknown error","wyverncss")),!1}finally{l(!1)}},[s]),y=(0,e.useCallback)(()=>{t([])},[]);return(0,e.useEffect)(()=>{u()},[s,u]),{messages:n,isLoading:r,isSending:o,error:d,sendMessage:h,loadHistory:u,clearMessages:y}}(s),{createConversation:m}=v(),u=async e=>{if(s)await d(e);else{const s=e.substring(0,50)+(e.length>50?"...":"");if(!await m({title:s}))return;setTimeout(async()=>{await d(e)},100)}};return s?(0,x.jsxs)("div",{className:"chat-interface",children:[l&&(0,x.jsx)(t.Notice,{status:"error",isDismissible:!1,children:l}),(0,x.jsx)(_.MessageList,{messages:r,isLoading:o,showToolExecutions:n}),(0,x.jsx)(p,{onSend:u,disabled:o||c})]}):(0,x.jsxs)("div",{className:"chat-interface-empty",children:[(0,x.jsxs)("div",{className:"empty-state",children:[(0,x.jsx)("div",{className:"empty-icon","aria-hidden":"true",children:"ðŸ‘‹"}),(0,x.jsx)("h2",{children:(0,a.__)("How can I help you today?","wyverncss")}),(0,x.jsx)("p",{children:(0,a.__)("I can help you create and manage WordPress content, answer questions about your site, and more. Just start typing below to begin!","wyverncss")})]}),(0,x.jsx)(p,{onSend:u,disabled:o||c,placeholder:(0,a.__)("Ask me anything about WordPressâ€¦","wyverncss")})]})}const j=window.wp.apiFetch;var g=n.n(j);function f(){const[s,n]=(0,e.useState)({status:"checking",toolsCount:0,tools:[]});return(0,e.useEffect)(()=>{const e=async()=>{try{const e=await g()({path:"/wyverncss/v1/mcp/status",method:"GET"});n({status:e.status,source:e.source,toolsCount:e.tools_count,tools:e.tools,message:e.message})}catch(e){n({status:"offline",toolsCount:0,tools:[],error:e instanceof Error?e.message:(0,a.__)("Failed to check MCP server status","wyverncss")})}};e();const s=setInterval(e,3e4);return()=>clearInterval(s)},[]),(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("MCP Server Status","wyverncss"),initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsxs)("div",{className:"mcp-status-container",children:[(0,x.jsxs)("div",{className:"mcp-status-header",children:[(0,x.jsxs)("div",{className:"mcp-status-indicator",children:["checking"===s.status&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(t.Spinner,{}),(0,x.jsx)("span",{children:(0,a.__)("Checkingâ€¦","wyverncss")})]}),"online"===s.status&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"status-dot status-online","aria-hidden":"true",children:"â—"}),(0,x.jsx)("strong",{style:{color:"#00a32a"},children:(0,a.__)("Online","wyverncss")})]}),"offline"===s.status&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("span",{className:"status-dot status-offline","aria-hidden":"true",children:"â—"}),(0,x.jsx)("strong",{style:{color:"#cc1818"},children:(0,a.__)("Offline","wyverncss")})]})]}),s.source&&(0,x.jsx)("div",{className:"mcp-source",style:{marginTop:"4px"},children:(0,x.jsxs)("small",{style:{color:"#757575"},children:[(0,a.__)("Source:","wyverncss")," ",s.source," (",s.toolsCount," ",1===s.toolsCount?(0,a.__)("tool","wyverncss"):(0,a.__)("tools","wyverncss"),")"]})})]}),s.message&&"online"===s.status&&(0,x.jsx)("div",{className:"mcp-message",style:{marginTop:"8px"},children:(0,x.jsx)("small",{style:{color:"#757575"},children:s.message})}),s.error&&(0,x.jsx)("div",{className:"mcp-error",style:{marginTop:"8px",color:"#cc1818"},children:(0,x.jsx)("small",{children:s.error})}),"online"===s.status&&s.tools.length>0&&(0,x.jsxs)("div",{className:"mcp-tools",style:{marginTop:"16px"},children:[(0,x.jsx)("h4",{children:(0,a.__)("Available Tools","wyverncss")}),(0,x.jsx)("ul",{className:"mcp-tools-list",style:{marginLeft:0,paddingLeft:0,listStyle:"none"},children:s.tools.map(e=>(0,x.jsx)("li",{className:"mcp-tool-item",style:{padding:"8px 0",borderBottom:"1px solid #ddd"},children:(0,x.jsx)("code",{style:{fontWeight:"bold"},children:e})},e))})]})]})})})})}function b(){const{settings:s,error:n,isLoading:r,hasApiKey:i,saveApiKey:c,verifyApiKey:o,deleteApiKey:l,savePreferences:d}=y(),[m,u]=(0,e.useState)(""),[h,v]=(0,e.useState)(null),[_,p]=(0,e.useState)(null),[w,j]=(0,e.useState)(!1),g=async(e,n)=>{s&&await d({...s.preferences,[e]:n})};return(0,x.jsxs)("div",{className:"settings-panel",children:[(0,x.jsx)("h2",{children:(0,a.__)("WyvernCSS AI Settings","wyverncss")}),n&&(0,x.jsx)(t.Notice,{status:"error",isDismissible:!1,children:n}),(0,x.jsx)(f,{}),(0,x.jsxs)(t.Panel,{children:[(0,x.jsxs)(t.PanelBody,{title:(0,a.__)("API Configuration","wyverncss"),initialOpen:!0,children:[(0,x.jsxs)("p",{className:"description",children:[(0,a.__)("Enter your OpenRouter API key to enable AI-powered features. Get your key from","wyverncss")," ",(0,x.jsx)("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",children:"openrouter.ai/keys"})]}),h&&(0,x.jsx)(t.Notice,{status:"error",isDismissible:!0,onDismiss:()=>v(null),children:h}),_&&(0,x.jsx)(t.Notice,{status:"success",isDismissible:!0,onDismiss:()=>p(null),children:_}),i?(0,x.jsxs)("div",{className:"api-key-configured",children:[(0,x.jsx)(t.PanelRow,{children:(0,x.jsxs)("div",{className:"api-key-status",children:[(0,x.jsx)("span",{className:"dashicons dashicons-yes-alt",style:{color:"#00a32a"}}),(0,x.jsx)("span",{children:(0,a.__)("API key is configured","wyverncss")})]})}),(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)(t.Button,{variant:"secondary",isDestructive:!0,onClick:async()=>{v(null),p(null),await l()?p((0,a.__)("API key removed successfully.","wyverncss")):v((0,a.__)("Failed to remove API key.","wyverncss"))},disabled:r,children:(0,a.__)("Remove API Key","wyverncss")})})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)(t.TextControl,{label:(0,a.__)("OpenRouter API Key","wyverncss"),value:m,onChange:u,placeholder:"sk-or-v1-...",type:"password",help:(0,a.__)("Your API key is encrypted and stored securely.","wyverncss")})}),(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)(t.Button,{variant:"primary",onClick:async()=>{v(null),p(null),j(!0);try{if(!m.startsWith("sk-or-v1-"))return void v((0,a.__)('Invalid API key format. OpenRouter keys start with "sk-or-v1-"',"wyverncss"));if(!await o(m))return void v((0,a.__)("API key verification failed. Please check your key.","wyverncss"));await c(m)?(p((0,a.__)("API key saved successfully!","wyverncss")),u("")):v((0,a.__)("Failed to save API key.","wyverncss"))}finally{j(!1)}},disabled:!m||w,children:w?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(t.Spinner,{}),(0,a.__)("Verifyingâ€¦","wyverncss")]}):(0,a.__)("Save API Key","wyverncss")})})]})]}),s&&(0,x.jsxs)(t.PanelBody,{title:(0,a.__)("Preferences","wyverncss"),initialOpen:!1,children:[(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)(t.ToggleControl,{label:(0,a.__)("Show Tool Executions","wyverncss"),checked:s.preferences.show_tool_executions,onChange:e=>g("show_tool_executions",e),help:(0,a.__)("Display detailed information about AI actions","wyverncss")})}),(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)(t.ToggleControl,{label:(0,a.__)("Auto-save Conversations","wyverncss"),checked:s.preferences.auto_save_conversations,onChange:e=>g("auto_save_conversations",e),help:(0,a.__)("Automatically save conversation history","wyverncss")})}),(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)(t.TextControl,{label:(0,a.__)("Max Context Messages","wyverncss"),type:"number",value:(s.preferences.max_context_messages||20).toString(),onChange:e=>g("max_context_messages",parseInt(e,10)),min:5,max:50,help:(0,a.__)("Number of recent messages to include in AI context","wyverncss")})})]}),s?.usage_summary&&(0,x.jsx)(t.PanelBody,{title:(0,a.__)("Usage Summary","wyverncss"),initialOpen:!1,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsxs)("div",{className:"usage-summary",children:[(0,x.jsxs)("div",{className:"usage-stat",children:[(0,x.jsx)("strong",{children:(0,a.__)("Total Conversations:","wyverncss")})," ",s.usage_summary.total_conversations]}),(0,x.jsxs)("div",{className:"usage-stat",children:[(0,x.jsx)("strong",{children:(0,a.__)("Total Messages:","wyverncss")})," ",s.usage_summary.total_messages]}),(0,x.jsxs)("div",{className:"usage-stat",children:[(0,x.jsx)("strong",{children:(0,a.__)("Cost This Month:","wyverncss")})," $",s.usage_summary.total_cost_month.toFixed(2)]}),(0,x.jsxs)("div",{className:"usage-stat",children:[(0,x.jsx)("strong",{children:(0,a.__)("Requests Today:","wyverncss")})," ",s.usage_summary.requests_today]})]})})})]})]})}function N(){const[e,n]=(0,s.useState)(null),[r,i]=(0,s.useState)(!0),[c,o]=(0,s.useState)(null),[l,d]=(0,s.useState)(!1),m=async()=>{try{d(!0);const e=await g()({path:"/wyverncss/v1/debug",method:"GET"});n(e),o(null)}catch(e){o(e instanceof Error?e.message:(0,a.__)("Failed to fetch debug information","wyverncss"))}finally{i(!1),d(!1)}};if((0,s.useEffect)(()=>{m()},[]),r)return(0,x.jsxs)("div",{className:"debug-panel-loading",children:[(0,x.jsx)(t.Spinner,{}),(0,x.jsx)("p",{children:(0,a.__)("Loading debug informationâ€¦","wyverncss")})]});if(c)return(0,x.jsx)("div",{className:"debug-panel-error",children:(0,x.jsx)(t.Notice,{status:"error",isDismissible:!1,children:c})});if(!e)return null;const u=[{name:"system",title:(0,a.__)("System","wyverncss"),className:"debug-tab-system"},{name:"mcp",title:(0,a.__)("MCP Tools","wyverncss"),className:"debug-tab-mcp"},{name:"permissions",title:(0,a.__)("Permissions","wyverncss"),className:"debug-tab-permissions"},{name:"rest_api",title:(0,a.__)("REST API","wyverncss"),className:"debug-tab-rest-api"},{name:"errors",title:(0,a.__)("Errors","wyverncss"),className:"debug-tab-errors"},{name:"constants",title:(0,a.__)("Constants","wyverncss"),className:"debug-tab-constants"}];return(0,x.jsxs)("div",{className:"debug-panel",children:[(0,x.jsxs)("div",{className:"debug-panel-header",children:[(0,x.jsx)("h2",{children:(0,a.__)("WyvernCSS Debug Information","wyverncss")}),(0,x.jsx)("button",{className:"button button-secondary",onClick:m,disabled:l,children:l?(0,a.__)("Refreshingâ€¦","wyverncss"):(0,a.__)("Refresh","wyverncss")})]}),(0,x.jsx)(t.TabPanel,{className:"debug-tabs",activeClass:"is-active",tabs:u,children:s=>(0,x.jsxs)(x.Fragment,{children:["system"===s.name&&(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("System Information","wyverncss"),initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsxs)("div",{className:"debug-info-grid",children:[(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("PHP Version:","wyverncss")}),(0,x.jsx)("code",{children:e.system.php_version})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("WordPress Version:","wyverncss")}),(0,x.jsx)("code",{children:e.system.wordpress_version})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("Plugin Version:","wyverncss")}),(0,x.jsx)("code",{children:e.system.plugin_version})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("Memory Limit:","wyverncss")}),(0,x.jsx)("code",{children:e.system.memory_limit})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("Max Execution Time:","wyverncss")}),(0,x.jsxs)("code",{children:[e.system.max_execution_time,"s"]})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("WP_DEBUG:","wyverncss")}),(0,x.jsx)("code",{children:e.system.wp_debug?"true":"false"})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("WP_DEBUG_LOG:","wyverncss")}),(0,x.jsx)("code",{children:e.system.wp_debug_log?"true":"false"})]}),(0,x.jsxs)("div",{className:"debug-info-item",children:[(0,x.jsx)("strong",{children:(0,a.__)("Active Theme:","wyverncss")}),(0,x.jsx)("code",{children:e.system.active_theme})]})]})})})}),"mcp"===s.name&&(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("MCP Tools","wyverncss")+` (${e.mcp.tools_count})`,initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)("div",{className:"debug-tools-list",children:0===e.mcp.tools.length?(0,x.jsx)(t.Notice,{status:"warning",isDismissible:!1,children:(0,a.__)("No MCP tools discovered. Check file permissions.","wyverncss")}):(0,x.jsxs)("table",{className:"widefat striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:(0,a.__)("Tool Name","wyverncss")}),(0,x.jsx)("th",{children:(0,a.__)("Description","wyverncss")}),(0,x.jsx)("th",{children:(0,a.__)("Class","wyverncss")})]})}),(0,x.jsx)("tbody",{children:e.mcp.tools.map((e,s)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("code",{children:e.name})}),(0,x.jsx)("td",{children:e.description}),(0,x.jsx)("td",{children:(0,x.jsx)("code",{children:e.class})})]},s))})]})})})})}),"permissions"===s.name&&(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("File Permissions","wyverncss"),initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)("div",{className:"debug-permissions-list",children:0===Object.keys(e.permissions).length?(0,x.jsx)(t.Notice,{status:"info",isDismissible:!1,children:(0,a.__)("No permission issues detected.","wyverncss")}):(0,x.jsxs)("table",{className:"widefat striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:(0,a.__)("File","wyverncss")}),(0,x.jsx)("th",{children:(0,a.__)("Readable","wyverncss")}),(0,x.jsx)("th",{children:(0,a.__)("Permissions","wyverncss")})]})}),(0,x.jsx)("tbody",{children:Object.entries(e.permissions).map(([e,s],n)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("code",{children:e})}),(0,x.jsx)("td",{children:(0,x.jsx)("span",{className:s.readable?"status-ok":"status-error",children:s.readable?"âœ“":"âœ—"})}),(0,x.jsx)("td",{children:(0,x.jsx)("code",{children:s.permissions})})]},n))})]})})})})}),"rest_api"===s.name&&(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("REST API Routes","wyverncss")+` (${e.rest_api.count})`,initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)("div",{className:"debug-routes-list",children:(0,x.jsx)("ul",{children:e.rest_api.routes.map((e,s)=>(0,x.jsx)("li",{children:(0,x.jsx)("code",{children:e})},s))})})})})}),"errors"===s.name&&(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("Recent Errors","wyverncss"),initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)("div",{className:"debug-errors-list",children:0===e.errors.length?(0,x.jsx)(t.Notice,{status:"success",isDismissible:!1,children:(0,a.__)("No recent errors found.","wyverncss")}):(0,x.jsx)("div",{className:"error-log",children:e.errors.map((e,s)=>(0,x.jsx)("pre",{className:"error-line",children:e},s))})})})})}),"constants"===s.name&&(0,x.jsx)(t.Panel,{children:(0,x.jsx)(t.PanelBody,{title:(0,a.__)("WordPress Constants","wyverncss"),initialOpen:!0,children:(0,x.jsx)(t.PanelRow,{children:(0,x.jsx)("div",{className:"debug-constants-list",children:(0,x.jsxs)("table",{className:"widefat striped",children:[(0,x.jsx)("thead",{children:(0,x.jsxs)("tr",{children:[(0,x.jsx)("th",{children:(0,a.__)("Constant","wyverncss")}),(0,x.jsx)("th",{children:(0,a.__)("Value","wyverncss")})]})}),(0,x.jsx)("tbody",{children:Object.entries(e.constants).map(([e,s],n)=>(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{children:(0,x.jsx)("code",{children:e})}),(0,x.jsx)("td",{children:(0,x.jsx)("code",{children:String(s)})})]},n))})]})})})})})]})})]})}function C(e){try{const s=new Date(e),n=(new Date).getTime()-s.getTime(),t=Math.floor(n/6e4),r=Math.floor(n/36e5),i=Math.floor(n/864e5);return t<1?(0,a.__)("Just now","wyverncss"):t<60?`${t}m ago`:r<24?`${r}h ago`:i<7?`${i}d ago`:s.toLocaleDateString()}catch{return""}}function k({conversation:e,isActive:s,onSelect:n,onDelete:r}){const{id:i,title:c,message_count:o,updated_at:l,total_cost:d}=e;return(0,x.jsxs)("div",{className:"conversation-item "+(s?"conversation-active":""),onClick:()=>n(i),role:"button",tabIndex:0,onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),n(i))},"aria-label":`${c} - ${o} messages`,"aria-current":s?"true":void 0,children:[(0,x.jsxs)("div",{className:"conversation-header",children:[(0,x.jsx)("h3",{className:"conversation-title",children:c}),(0,x.jsx)(t.Button,{icon:"trash",label:(0,a.__)("Delete conversation","wyverncss"),onClick:e=>{e.stopPropagation();const s=(0,a.__)("Delete conversation","wyverncss");confirm(`${s} "${c}"?`)&&r(i)},className:"conversation-delete",isSmall:!0})]}),(0,x.jsxs)("div",{className:"conversation-meta",children:[(0,x.jsxs)("span",{className:"conversation-messages",children:[o," ",1===o?(0,a.__)("message","wyverncss"):(0,a.__)("messages","wyverncss")]}),(0,x.jsx)("span",{className:"conversation-separator",children:"â€¢"}),(0,x.jsx)("span",{className:"conversation-time",children:C(l)})]}),void 0!==d&&d>0&&(0,x.jsxs)("div",{className:"conversation-cost",children:["$",d.toFixed(4)]})]})}function P({onConversationChange:e}){const{conversations:s,currentConversationId:n,error:t,deleteConversation:r,selectConversation:i}=v(),c=s=>{i(s),e?.(s)},o=async s=>{await r(s)&&e?.(n)};return(0,x.jsxs)("div",{className:"conversation-list",children:[(0,x.jsx)("div",{className:"conversation-list-header",children:(0,x.jsx)("h2",{children:(0,a.__)("Conversations","wyverncss")})}),t&&(0,x.jsx)("div",{className:"conversation-error",role:"alert",children:t}),0===s.length?(0,x.jsx)("div",{className:"conversation-list-empty",children:(0,x.jsx)("p",{children:(0,a.__)("No conversations yet. Start chatting to create your first conversation!","wyverncss")})}):(0,x.jsx)("div",{className:"conversation-list-items",role:"list",children:s.map(e=>(0,x.jsx)(k,{conversation:e,isActive:e.id===n,onSelect:c,onDelete:o},e.id))})]})}const S=[{id:"unused-media",label:(0,a.__)("Find Unused Media","wyverncss"),command:"find unused media files",description:(0,a.__)("Identifies media files not used in any content","wyverncss"),icon:"ðŸ–¼ï¸",requires_premium:!1},{id:"old-drafts",label:(0,a.__)("Delete Old Drafts","wyverncss"),command:"delete draft posts older than 6 months",description:(0,a.__)("Removes old draft posts to clean up database","wyverncss"),icon:"ðŸ—‘ï¸",requires_premium:!1},{id:"security-check",label:(0,a.__)("Security Check","wyverncss"),command:"check site security settings",description:(0,a.__)("Reviews security configuration and provides recommendations","wyverncss"),icon:"ðŸ”’",requires_premium:!0},{id:"optimize-images",label:(0,a.__)("Optimize Images","wyverncss"),command:"find unoptimized images",description:(0,a.__)("Identifies images that need optimization","wyverncss"),icon:"âš¡",requires_premium:!0}];function A({onExecute:s,disabled:n=!1,quickCommands:r=S}){const[i,c]=(0,e.useState)(""),[o,l]=(0,e.useState)(!1);return(0,x.jsxs)("div",{className:"admin-ai-command-input",children:[(0,x.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()&&(s(i.trim()),c(""),l(!1))},children:[(0,x.jsxs)("div",{className:"command-input-wrapper",children:[(0,x.jsx)(t.TextControl,{label:(0,a.__)("Enter a command","wyverncss"),hideLabelFromVision:!0,value:i,onChange:c,onFocus:()=>{l(!0)},onBlur:()=>{setTimeout(()=>{l(!1)},200)},placeholder:(0,a.__)('e.g., "Find unused media files" or "Delete old drafts"',"wyverncss"),disabled:n,className:"command-input","aria-label":(0,a.__)("Admin AI command input","wyverncss"),"aria-describedby":"command-input-help"}),(0,x.jsx)(t.Button,{type:"submit",variant:"primary",disabled:n||!i.trim(),"aria-label":(0,a.__)("Execute command","wyverncss"),children:(0,a.__)("Execute","wyverncss")})]}),(0,x.jsx)("div",{id:"command-input-help",className:"command-input-help",children:(0,a.__)("Describe what you want to do in natural language, or use a quick command below.","wyverncss")})]}),(0,x.jsxs)("div",{className:"quick-commands",role:"group","aria-label":(0,a.__)("Quick commands","wyverncss"),children:[(0,x.jsx)("h3",{children:(0,a.__)("Quick Commands","wyverncss")}),(0,x.jsx)("div",{className:"quick-commands-grid",children:r.map(e=>(0,x.jsxs)("button",{type:"button",className:"quick-command-button",onClick:()=>(e=>{c(e.command),s(e.command),c("")})(e),disabled:n,"aria-label":e.description,children:[(0,x.jsx)("span",{className:"quick-command-icon","aria-hidden":"true",children:e.icon}),(0,x.jsx)("span",{className:"quick-command-label",children:e.label}),e.requires_premium&&(0,x.jsx)("span",{className:"premium-badge","aria-label":(0,a.__)("Premium feature","wyverncss"),children:(0,a.__)("Premium","wyverncss")})]},e.id))})]})]})}function E({result:e,onApplyRecommendation:s,onClose:n}){const r=e=>{switch(e){case"high":return"severity-high";case"medium":return"severity-medium";case"low":return"severity-low";default:return""}},i=e=>{switch(e){case"high":return(0,a.__)("High","wyverncss");case"medium":return(0,a.__)("Medium","wyverncss");case"low":return(0,a.__)("Low","wyverncss");default:return e}};return(0,x.jsxs)("div",{className:"admin-ai-results",role:"region","aria-label":(0,a.__)("Command results","wyverncss"),children:[(0,x.jsxs)("div",{className:"results-header",children:[(0,x.jsx)("h2",{children:(0,a.__)("Results","wyverncss")}),(0,x.jsx)(t.Button,{variant:"tertiary",onClick:n,"aria-label":(0,a.__)("Close results","wyverncss"),children:(0,a.__)("Clear","wyverncss")})]}),(0,x.jsx)(t.Notice,{status:e.success?"success":"error",isDismissible:!1,children:e.message}),e.stats&&(0,x.jsxs)("div",{className:"results-stats",role:"group","aria-label":(0,a.__)("Operation statistics","wyverncss"),children:[(0,x.jsx)("h3",{children:(0,a.__)("Statistics","wyverncss")}),(0,x.jsxs)("div",{className:"stats-grid",children:[void 0!==e.stats.found&&(0,x.jsxs)("div",{className:"stat-item",children:[(0,x.jsx)("span",{className:"stat-label",children:(0,a.__)("Found:","wyverncss")}),(0,x.jsx)("span",{className:"stat-value",children:e.stats.found})]}),void 0!==e.stats.processed&&(0,x.jsxs)("div",{className:"stat-item",children:[(0,x.jsx)("span",{className:"stat-label",children:(0,a.__)("Processed:","wyverncss")}),(0,x.jsx)("span",{className:"stat-value",children:e.stats.processed})]}),void 0!==e.stats.deleted&&(0,x.jsxs)("div",{className:"stat-item",children:[(0,x.jsx)("span",{className:"stat-label",children:(0,a.__)("Deleted:","wyverncss")}),(0,x.jsx)("span",{className:"stat-value",children:e.stats.deleted})]}),void 0!==e.stats.updated&&(0,x.jsxs)("div",{className:"stat-item",children:[(0,x.jsx)("span",{className:"stat-label",children:(0,a.__)("Updated:","wyverncss")}),(0,x.jsx)("span",{className:"stat-value",children:e.stats.updated})]})]})]}),e.affected_items&&e.affected_items.length>0&&(0,x.jsxs)("div",{className:"results-affected-items",role:"group","aria-label":(0,a.__)("Affected items","wyverncss"),children:[(0,x.jsx)("h3",{children:(0,a.__)("Affected Items","wyverncss")}),(0,x.jsx)("ul",{className:"affected-items-list",children:e.affected_items.map(e=>(0,x.jsx)("li",{className:"affected-item",children:(0,x.jsxs)("div",{className:"item-content",children:[(0,x.jsx)("strong",{className:"item-title",children:e.title}),(0,x.jsxs)("span",{className:"item-meta",children:[e.type,e.status&&` - ${e.status}`]})]})},e.id))})]}),e.recommendations&&e.recommendations.length>0&&(0,x.jsxs)("div",{className:"results-recommendations",role:"group","aria-label":(0,a.__)("Recommendations","wyverncss"),children:[(0,x.jsx)("h3",{children:(0,a.__)("Recommendations","wyverncss")}),(0,x.jsx)("div",{className:"recommendations-list",children:e.recommendations.map(e=>(0,x.jsxs)("div",{className:"recommendation-card",children:[(0,x.jsxs)("div",{className:"recommendation-header",children:[(0,x.jsx)("h4",{children:e.title}),(0,x.jsx)("span",{className:`severity-badge ${r(e.severity)}`,"aria-label":`${(0,a.__)("Severity:","wyverncss")} ${i(e.severity)}`,children:i(e.severity)})]}),(0,x.jsx)("p",{className:"recommendation-description",children:e.description}),e.auto_fixable&&s&&(0,x.jsx)(t.Button,{variant:"secondary",onClick:()=>(async e=>{s&&await s(e)})(e),className:"apply-fix-button","aria-label":`${(0,a.__)("Apply fix:","wyverncss")} ${e.title}`,children:(0,a.__)("Apply Fix","wyverncss")})]},e.id))})]})]})}function I({isOpen:e,title:s,message:n,affectedItems:r,isLoading:i=!1,onConfirm:c,onCancel:o}){return e?(0,x.jsx)(t.Modal,{title:s,onRequestClose:o,isDismissible:!i,className:"admin-ai-confirmation-modal",children:(0,x.jsxs)("div",{className:"confirmation-content",children:[(0,x.jsx)("p",{className:"confirmation-message",children:n}),r&&r.length>0&&(0,x.jsxs)("div",{className:"affected-items",children:[(0,x.jsx)("h3",{children:(0,a.__)("Items that will be affected:","wyverncss")}),(0,x.jsx)("div",{className:"affected-items-list",children:r.length>10?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("ul",{"aria-label":(0,a.__)("First 10 affected items","wyverncss"),children:r.slice(0,10).map(e=>(0,x.jsxs)("li",{children:[(0,x.jsx)("strong",{children:e.title}),(0,x.jsxs)("span",{className:"item-meta",children:[e.type,e.status&&` - ${e.status}`]})]},e.id))}),(0,x.jsx)("p",{className:"items-count",children:(0,a.sprintf)(
// translators: %d: number of additional items
// translators: %d: number of additional items
(0,a.__)("â€¦ and %d more items","wyverncss"),r.length-10)})]}):(0,x.jsx)("ul",{"aria-label":(0,a.__)("Affected items","wyverncss"),children:r.map(e=>(0,x.jsxs)("li",{children:[(0,x.jsx)("strong",{children:e.title}),(0,x.jsxs)("span",{className:"item-meta",children:[e.type,e.status&&` - ${e.status}`]})]},e.id))})})]}),(0,x.jsxs)("div",{className:"modal-buttons",children:[(0,x.jsx)(t.Button,{variant:"secondary",onClick:o,disabled:i,"aria-label":(0,a.__)("Cancel operation","wyverncss"),children:(0,a.__)("Cancel","wyverncss")}),(0,x.jsx)(t.Button,{variant:"primary",onClick:c,isBusy:i,disabled:i,"aria-label":(0,a.__)("Confirm and proceed with operation","wyverncss"),children:i?(0,a.__)("Processingâ€¦","wyverncss"):(0,a.__)("Confirm","wyverncss")})]})]})}):null}function R({isPremium:s=!1}){const{isLoading:n,error:r,result:i,requiresConfirmation:c,confirmationMessage:o,executeCommand:l,applyRecommendation:d,clearResult:m,clearError:u}=function(){const[s,n]=(0,e.useState)(!1),[a,t]=(0,e.useState)(null),[r,i]=(0,e.useState)(null),[c,o]=(0,e.useState)(!1),[l,d]=(0,e.useState)(null),m=(0,e.useCallback)(async(e,s,a=!1)=>{n(!0),t(null),i(null),o(!1),d(null);try{const n={command:e,params:s,confirm:a},r=await h(n);if(r.success&&r.data){const e=r.data;return i(e),e.requires_confirmation&&!a&&(o(!0),d(e.confirmation_message||"Are you sure you want to proceed?")),e}const c=r.error?.message||"Command execution failed";return t(c),null}catch(e){const s=e instanceof Error?e.message:"Unknown error";return t(s),null}finally{n(!1)}},[]),u=(0,e.useCallback)(async e=>{if(!e.auto_fixable||!e.fix_command)return t("This recommendation cannot be automatically applied"),!1;const s=await m(e.fix_command,e.fix_params,!0);return s?.success||!1},[m]),y=(0,e.useCallback)(()=>{i(null),o(!1),d(null)},[]),v=(0,e.useCallback)(()=>{t(null)},[]);return{isLoading:s,error:a,result:r,requiresConfirmation:c,confirmationMessage:l,executeCommand:m,applyRecommendation:u,clearResult:y,clearError:v}}(),[y,v]=(0,e.useState)(null);return s?(0,x.jsxs)("div",{className:"admin-ai-panel",children:[(0,x.jsxs)("div",{className:"admin-ai-header",children:[(0,x.jsx)("h2",{children:(0,a.__)("Admin AI","wyverncss")}),(0,x.jsx)("p",{className:"admin-ai-description",children:(0,a.__)("Execute WordPress administrative tasks using natural language commands.","wyverncss")})]}),r&&(0,x.jsx)(t.Notice,{status:"error",isDismissible:!0,onRemove:u,children:r}),(0,x.jsxs)("div",{className:"admin-ai-content",children:[(0,x.jsx)(A,{onExecute:async e=>{v({command:e}),await l(e)},disabled:n}),n&&(0,x.jsxs)("div",{className:"admin-ai-loading",role:"status","aria-live":"polite",children:[(0,x.jsx)("div",{className:"loading-spinner","aria-hidden":"true"}),(0,x.jsx)("p",{children:(0,a.__)("Executing commandâ€¦","wyverncss")})]}),i&&!c&&(0,x.jsx)(E,{result:i,onApplyRecommendation:d,onClose:m})]}),(0,x.jsx)(I,{isOpen:c,title:(0,a.__)("Confirm Action","wyverncss"),message:o||(0,a.__)("Are you sure you want to proceed with this action?","wyverncss"),affectedItems:i?.affected_items,isLoading:n,onConfirm:async()=>{y&&(await l(y.command,y.params,!0),v(null))},onCancel:()=>{v(null),m()}})]}):(0,x.jsx)("div",{className:"admin-ai-panel admin-ai-premium-gate",children:(0,x.jsxs)("div",{className:"premium-gate-content",children:[(0,x.jsx)("div",{className:"premium-icon","aria-hidden":"true",children:"ðŸš€"}),(0,x.jsx)("h2",{children:(0,a.__)("Admin AI - Premium Feature","wyverncss")}),(0,x.jsx)("p",{children:(0,a.__)("Admin AI allows you to manage your WordPress site using natural language commands. Execute complex administrative tasks with simple instructions.","wyverncss")}),(0,x.jsxs)("div",{className:"premium-features",children:[(0,x.jsx)("h3",{children:(0,a.__)("What you can do:","wyverncss")}),(0,x.jsxs)("ul",{children:[(0,x.jsx)("li",{children:(0,a.__)("ðŸ” Find and manage unused media files","wyverncss")}),(0,x.jsx)("li",{children:(0,a.__)("ðŸ—‘ï¸ Clean up old drafts and revisions","wyverncss")}),(0,x.jsx)("li",{children:(0,a.__)("ðŸ”’ Check and improve security settings","wyverncss")}),(0,x.jsx)("li",{children:(0,a.__)("âš¡ Optimize images and performance","wyverncss")}),(0,x.jsx)("li",{children:(0,a.__)("ðŸ“Š Generate reports and analytics","wyverncss")}),(0,x.jsx)("li",{children:(0,a.__)("ðŸ› ï¸ Automate routine maintenance tasks","wyverncss")})]})]}),(0,x.jsx)("div",{className:"premium-cta",children:(0,x.jsx)("a",{href:"#upgrade",className:"button button-primary button-hero","aria-label":(0,a.__)("Upgrade to Premium to unlock Admin AI","wyverncss"),children:(0,a.__)("Upgrade to Premium","wyverncss")})})]})})}function D(){const e=new URLSearchParams(window.location.search).get("view");return"settings"===e||"debug"===e||"chat"===e||"admin-ai"===e?e:"chat"}function O(){var e;const{settings:n}=y(),{currentConversationId:r}=v(),[i,c]=(0,s.useState)(D),o=e=>{c(e),function(e){const s=new URLSearchParams(window.location.search);s.set("view",e);const n=`${window.location.pathname}?${s.toString()}`;window.history.pushState({view:e},"",n)}(e)};return(0,s.useEffect)(()=>{const e=e=>{e.state?.view?c(e.state.view):c(D())};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]),(0,x.jsxs)("div",{className:"wyverncss-admin-console",children:[(0,x.jsxs)("header",{className:"wyverncss-header",children:[(0,x.jsxs)("div",{className:"header-left",children:[(0,x.jsx)("h1",{children:(0,a.__)("WyvernCSS AI Console","wyverncss")}),(0,x.jsx)("span",{className:"header-subtitle",children:(0,a.__)("AI-powered WordPress management","wyverncss")})]}),(0,x.jsx)("div",{className:"header-right",children:(0,x.jsxs)(t.ButtonGroup,{children:[(0,x.jsx)(t.Button,{variant:"chat"===i?"primary":"secondary",onClick:()=>o("chat"),"aria-pressed":"chat"===i,children:(0,a.__)("Chat","wyverncss")}),(0,x.jsx)(t.Button,{variant:"admin-ai"===i?"primary":"secondary",onClick:()=>o("admin-ai"),"aria-pressed":"admin-ai"===i,children:(0,a.__)("Admin AI","wyverncss")}),(0,x.jsx)(t.Button,{variant:"settings"===i?"primary":"secondary",onClick:()=>o("settings"),"aria-pressed":"settings"===i,children:(0,a.__)("Settings","wyverncss")}),(0,x.jsx)(t.Button,{variant:"debug"===i?"primary":"secondary",onClick:()=>o("debug"),"aria-pressed":"debug"===i,children:(0,a.__)("Debug","wyverncss")})]})})]}),(0,x.jsxs)("div",{className:"wyverncss-main",children:["chat"===i&&(0,x.jsx)("aside",{className:"wyverncss-sidebar",children:(0,x.jsx)(P,{})}),(0,x.jsxs)("main",{className:"wyverncss-content "+("chat"!==i?"wyverncss-content-full":""),role:"main",children:["settings"===i&&(0,x.jsx)(b,{}),"debug"===i&&(0,x.jsx)(N,{}),"admin-ai"===i&&(0,x.jsx)(R,{isPremium:!1}),"chat"===i&&(0,x.jsx)(w,{conversationId:r,showToolExecutions:null===(e=n?.preferences.show_tool_executions)||void 0===e||e})]})]})]})}function T(){const s=document.getElementById("wyverncss-admin-root");s&&(void 0!==window.wyvernPressAI?(0,e.render)((0,x.jsx)(O,{}),s):s.innerHTML='\n      <div class="notice notice-error">\n        <p>WyvernCSS AI Console failed to load: WordPress data not found.</p>\n      </div>\n    ')}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",T):T()})()})();